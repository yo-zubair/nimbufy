function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var BricksIntersect=_createClass((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);var n=t.element||!1,r=t.callback||!1,i=!t.hasOwnProperty("once")||t.once,o=!!t.hasOwnProperty("trigger")&&t.trigger;if("IntersectionObserver"in window){var a=!1,s=new IntersectionObserver((function(e,t){e.forEach((function(e){var s="leaveView"===o?!e.isIntersecting&&a:e.isIntersecting;"leaveView"===o&&e.isIntersecting&&(a=!0),s&&(n&&r&&r(e.target),i&&t.unobserve(e.target))}))}),{threshold:t.threshold||0,root:t.root||null,rootMargin:(null==t?void 0:t.rootMargin)||"0px"});n instanceof Element&&s.observe(n)}else{var c=!1,l=function(){!1===c&&(c=!0,n.getBoundingClientRect().top<=window.innerHeight&&n.getBoundingClientRect().bottom>=0&&"none"!==window.getComputedStyle(n).display&&n&&r&&r(n),c=!1)};l(),document.addEventListener("scroll",l),window.addEventListener("resize",l),window.addEventListener("orientationchange",l)}}));function BricksIsInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function bricksQuerySelectorAll(e,t){if(Array.isArray(t)){var n=[];return t.forEach((function(t){n=n.concat(Array.prototype.slice.apply(e.querySelectorAll(t)))})),n}return Array.prototype.slice.apply(e.querySelectorAll(t))}var bricksUtils={subscribeEvents:function(e,t,n){t.forEach((function(t){e.addEventListener(t,(function(e){n(e)}))}))},subscribejQueryEvents:function(e,t,n){"undefined"!=typeof jQuery&&t.forEach((function(t){jQuery(e).on(t,(function(e){n(e)}))}))},maybeRunOnceInteractions:function(e,t){var n=window.bricksData.interactions.findIndex((function(e){return e===t}));-1!==n&&(null!=t&&t.runOnce&&window.bricksData.interactions.splice(n,1),bricksInteractionCallbackExecution(e,t))},hideOrShowLoadMoreButtons:function(e){var t=window.bricksData.queryLoopInstances[e]||!1;if(t||"all"===e){if("all"===e)for(var n in window.bricksData.queryLoopInstances)window.bricksData.queryLoopInstances.hasOwnProperty(n)&&bricksUtils.hideOrShowLoadMoreButtons(n);var r=window.bricksData.interactions.filter((function(t){return"loadMore"===t.action&&t.loadMoreQuery===e}));if(r.length){var i=t.page<t.maxPages;r.forEach((function(e){i?e.el.classList.remove("brx-load-more-hidden"):e.el.classList.add("brx-load-more-hidden")}))}}},updateIsotopeInstance:function(e){var t,n,r,i=window.bricksData.isotopeInstances[e]||!1;if(i)if("masonry-element"!==i.elementName)null===(t=i.instance)||void 0===t||t.reloadItems(),null===(n=i.instance)||void 0===n||n.layout(),null===(r=i.instance)||void 0===r||r.arrange();else{var o=i.instance.items.filter((function(e){return!e.element.isConnected}));o.length>0&&(i.instance.remove(o),i.instance.layout());var a=i.instance.element.querySelectorAll(":scope > *:not(.bricks-isotope-sizer):not(.bricks-gutter-sizer)");a.length>0&&a.forEach((function(e){i.instance.items.find((function(t){return t.element===e}))||i.instance.appended(e)}))}},toggleAction:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(null===(t=e.dataset)||void 0===t?void 0:t.selector)||".brxe-offcanvas",a=(null===(n=e.dataset)||void 0===n?void 0:n.attribute)||"class",s=(null===(r=e.dataset)||void 0===r?void 0:r.value)||"brx-open";i&&(o=(null==i?void 0:i.selector)||o,a=(null==i?void 0:i.attribute)||a,s=(null==i?void 0:i.value)||s);var c=!!o&&document.querySelector(o);if(c||(c=e.closest(".brxe-nav-nested")),c||(c=e.closest(".brxe-offcanvas")),c){document.querySelector(".brx-has-megamenu")&&(e.closest('[data-effect="offset"]')||bricksSubmenuPosition(0));var l,d,u,p,b=!1;if(b="class"===a?c.classList.contains(s):c.getAttribute(a)===s,e.setAttribute("aria-expanded",!b),b)e.classList.remove("is-active");else if(e.classList.add("is-active"),null!==(l=e.dataset)&&void 0!==l&&l.scriptId||null!==(d=e.dataset)&&void 0!==d&&d.interactionId)c.dataset.toggleScriptId=(null===(u=e.dataset)||void 0===u?void 0:u.scriptId)||(null===(p=e.dataset)||void 0===p?void 0:p.interactionId);"class"===a?e.closest(".brxe-nav-nested")&&"brx-open"===s&&c.classList.contains("brx-open")?(c.classList.add("brx-closing"),setTimeout((function(){c.classList.remove("brx-closing"),c.classList.remove("brx-open")}),200)):c.classList.toggle(s):c.getAttribute(a)?c.removeAttribute(a):c.setAttribute(a,s);var v,f=!1;if(c.classList.contains("brxe-offcanvas"))f="true"===(null===(v=c.dataset)||void 0===v?void 0:v.noAutoFocus)||!1;f||bricksFocusOnFirstFocusableElement(c)}}},BricksFunction=function(){return _createClass((function e(t){var n,r,i,o,a=this;_classCallCheck(this,e),_defineProperty(this,"_customRun",null),_defineProperty(this,"_customEachElement",null),_defineProperty(this,"_customListenerHandler",null),_defineProperty(this,"_customAddEventListeners",null),_defineProperty(this,"_settings",{}),_defineProperty(this,"_initializedElements",new Set);var s={parentNode:document,selector:"",subscribeEvents:["bricks/ajax/pagination/completed","bricks/ajax/load_page/completed","bricks/ajax/popup/loaded","bricks/ajax/query_result/displayed"],subscribejQueryEvents:[],forceReinit:!1,frontEndOnly:!1,windowVariableCheck:[],additionalActions:[]};Object.assign(s,t),this._settings=s,this._customRun=null!==(n=null==t?void 0:t.run)&&void 0!==n?n:null,this._customEachElement=null!==(r=null==t?void 0:t.eachElement)&&void 0!==r?r:null,this._customListenerHandler=null!==(i=null==t?void 0:t.listenerHandler)&&void 0!==i?i:null,this._customAddEventListeners=null!==(o=null==t?void 0:t.addEventListeners)&&void 0!==o?o:null,this.cleanUpInitElements=this.cleanUpInitElements.bind(this),this.run=this.run.bind(this),this.eachElement=this.eachElement.bind(this),this.listenerHandler=this.listenerHandler.bind(this),this.addEventListeners=this.addEventListeners.bind(this),document.addEventListener("DOMContentLoaded",(function(){if(a.addEventListeners(),a._settings.additionalActions.length){var e,t=_createForOfIteratorHelper(a._settings.additionalActions);try{for(t.s();!(e=t.n()).done;){var n=e.value;"function"==typeof n&&n.call(a)}}catch(e){t.e(e)}finally{t.f()}}})),window.bricksFunctions||(window.bricksFunctions=[]),window.bricksFunctions.push(this)}),[{key:"functionCanRun",value:function(){if(this._settings.frontEndOnly&&!document.body.classList.contains("bricks-is-frontend"))return!1;if(this._settings.windowVariableCheck.length){var e,t=_createForOfIteratorHelper(this._settings.windowVariableCheck);try{for(t.s();!(e=t.n()).done;){var n,r=e.value.split("."),i=window,o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(!i.hasOwnProperty(a)){i=!1;break}i=i[a]}}catch(e){o.e(e)}finally{o.f()}if(!i)return!1}}catch(e){t.e(e)}finally{t.f()}}return!0}},{key:"cleanUpInitElements",value:function(){var e,t=_createForOfIteratorHelper(this._initializedElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isConnected||this._initializedElements.delete(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"eachElement",value:function(e){this._customEachElement&&"function"==typeof this._customEachElement&&this._customEachElement.call(this,e)}},{key:"run",value:function(e){var t=this;if(this.functionCanRun())if(this.cleanUpInitElements(),this._customRun&&"function"==typeof this._customRun)this._customRun.call(this,e);else{var n=Object.assign({},this._settings);e&&Object.keys(e).forEach((function(t){n.hasOwnProperty(t)&&(n[t]=e[t])}));var r=bricksQuerySelectorAll(n.parentNode,n.selector);r.length&&r.forEach((function(e,r){if(n.forceReinit&&("function"==typeof n.forceReinit?n.forceReinit.call(t,e,r):n.forceReinit))return void t.eachElement(e,r);if(t._initializedElements.has(e)){var i=Array.from(t._initializedElements).find((function(t){return t===e}));i.isConnected||(t._initializedElements.delete(i),t._initializedElements.add(e,r),t.eachElement(e,r))}else t._initializedElements.add(e),t.eachElement(e,r)}))}}},{key:"listenerHandler",value:function(e){this._customListenerHandler&&"function"==typeof this._customListenerHandler?this._customListenerHandler.call(this,e):null!=e&&e.type&&(e.type,this.run())}},{key:"addEventListeners",value:function(){this.functionCanRun()&&(this._customAddEventListeners&&"function"==typeof this._customAddEventListeners?this._customAddEventListeners.call(this):(this._settings.subscribeEvents.length&&bricksUtils.subscribeEvents(document,this._settings.subscribeEvents,this.listenerHandler),this._settings.subscribejQueryEvents.length&&bricksUtils.subscribejQueryEvents(document,this._settings.subscribejQueryEvents,this.listenerHandler)))}}])}(),bricksLazyLoadFn=new BricksFunction({parentNode:document,selector:".bricks-lazy-hidden",subscribejQueryEvents:["updated_cart_totals"],eachElement:function(e){var t=window.bricksData.offsetLazyLoad||300;new BricksIntersect({element:e,callback:function(e){!function(e){if(e.classList.add("wait"),e.dataset.src&&(e.src=e.dataset.src,delete e.dataset.src),e.dataset.sizes&&(e.sizes=e.dataset.sizes,delete e.dataset.sizes),e.dataset.srcset&&(e.srcset=e.dataset.srcset,delete e.dataset.srcset),e.dataset.style){var t=e.getAttribute("style")||"";t+=e.dataset.style,e.setAttribute("style",t),e.classList.contains("splide__slide")||delete e.dataset.style}e.classList.remove("bricks-lazy-hidden"),e.classList.remove("wait"),e.classList.contains("bricks-lazy-load-isotope")&&bricksIsotope()}(e)},rootMargin:"".concat(t,"px")})},listenerHandler:function(e){setTimeout((function(){bricksLazyLoadFn.run()}),100)}});function bricksLazyLoad(){bricksLazyLoadFn.run()}var bricksAnimationFn=new BricksFunction({parentNode:document,selector:".brx-animated",removeAfterMs:3e3,eachElement:function(e){new BricksIntersect({element:e,callback:function(e){var t=e.dataset.animation;t&&(e.classList.add("brx-animate-".concat(t)),e.removeAttribute("data-animation"),e.addEventListener("animationend",(function(){var n;if(e.classList.remove("brx-animate-".concat(t)),e.classList.contains("brx-popup-content")&&t.includes("Out")){var r=e.closest(".brx-popup");r&&bricksClosePopup(r)}var i=null===(n=e.dataset)||void 0===n?void 0:n.animationId;if(i){var o=new CustomEvent("bricks/animation/end/".concat(i),{detail:{el:e}});document.dispatchEvent(o)}}),{once:!0}))}})},run:function(e){var t=bricksAnimationFn,n=(null==e?void 0:e.elementsToAnimate)||bricksQuerySelectorAll(t._settings.parentNode,t._settings.selector);t.removeAfterMs=(null==e?void 0:e.removeAfterMs)||t.removeAfterMs,n.forEach((function(e){t.eachElement(e)}))}});function bricksAnimation(){bricksAnimationFn.run()}var bricksInitQueryLoopInstancesFn=new BricksFunction({parentNode:document,selector:".brx-query-trail",subscribeEvents:["bricks/ajax/load_page/completed"],eachElement:function(e){var t,n,r,i,o,a,s,c=(null===(t=e.dataset)||void 0===t?void 0:t.observerMargin)||"1px",l=null===(n=e.dataset)||void 0===n?void 0:n.queryElementId,d=null===(r=e.dataset)||void 0===r?void 0:r.queryVars,u=(null===(i=e.dataset)||void 0===i?void 0:i.originalQueryVars)||"[]",p=e.classList.contains("bricks-isotope-sizer"),b=e.classList.contains("brx-infinite-scroll"),v=null===(o=e.dataset)||void 0===o?void 0:o.brxAjaxLoader,f=null===(a=e.dataset)||void 0===a?void 0:a.brxLiveSearch,m=document.querySelector(".brxe-".concat(l));s=m?null==m?void 0:m.parentNode:e.parentNode,window.bricksData.queryLoopInstances[l]={page:e.dataset.page,maxPages:e.dataset.maxPages,queryVars:d,originalQueryVars:u,observerMargin:c,infiniteScroll:b,isPostsElement:p,ajaxLoader:v,isLiveSearch:f,resultsContainer:s},"1"===window.bricksData.useQueryFilter&&(s.contains(e)?e.insertAdjacentHTML("beforebegin","\x3c!--brx-loop-start-".concat(l,"--\x3e")):s.insertAdjacentHTML("beforeend","\x3c!--brx-loop-start-".concat(l,"--\x3e")));var g=p?e.previousElementSibling:Array.from(document.querySelectorAll(".brxe-".concat(l,":not(.brx-popup)"))).pop();p||e.remove(),g&&b&&(g.dataset.queryElementId=l,new BricksIntersect({element:g,callback:function(e){return bricksQueryLoadPage(e)},once:1,rootMargin:c}))}});function bricksInitQueryLoopInstances(){bricksInitQueryLoopInstancesFn.run()}function bricksAjaxLoader(){var e=function(e){var t="";switch(e){case"default":t='<div class="brx-loading-default"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>';break;case"ellipsis":t='<div class="brx-loading-ellipsis"><div></div><div></div><div></div><div></div></div>';break;case"ring":t='<div class="brx-loading-ring"><div></div><div></div><div></div><div></div></div>';break;case"dual-ring":t='<div class="brx-loading-dual-ring"></div>';break;case"facebook":t='<div class="brx-loading-facebook"><div></div><div></div><div></div></div>';break;case"roller":t='<div class="brx-loading-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>';break;case"ripple":t='<div class="brx-loading-ripple"><div></div><div></div></div>';break;case"spinner":t='<div class="brx-loading-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>'}return t};document.addEventListener("bricks/ajax/start",(function(t){var n=t.detail.queryId||!1;if(n){var r=window.bricksData.queryLoopInstances[n]||!1;if(r){var i=JSON.parse((null==r?void 0:r.ajaxLoader)||!1),o=(null==i?void 0:i.animation)||!1;if(o){var a,s,c=!(null==i||!i.selector)&&document.querySelector(i.selector);if(!c)c=null!==(a=Array.from(null===(s=r.resultsContainer)||void 0===s?void 0:s.querySelectorAll(".brxe-".concat(n,":not(.brx-popup)"))).pop())&&void 0!==a?a:r.resultsContainer;if(c){var l=c.nodeName.toLowerCase(),d=document.createElement(l);d.classList.add("brx-loading-animation"),d.dataset.ajaxLoaderQueryId=n,null!=i&&i.color&&d.style.setProperty("--brx-loader-color",i.color),null!=i&&i.scale&&(d.style.transform="scale(".concat(i.scale,")")),d.innerHTML=e(o),c.insertAdjacentElement(null!=i&&i.selector?"beforeend":"afterend",d)}}}}})),document.addEventListener("bricks/ajax/end",(function(e){var t;(null!=e&&null!==(t=e.detail)&&void 0!==t&&t.queryId?document.querySelectorAll('.brx-loading-animation[data-ajax-loader-query-id="'.concat(e.detail.queryId,'"]')):[]).forEach((function(e){return e.remove()}))})),document.addEventListener("bricks/ajax/popup/start",(function(t){var n,r=t.detail.popupElement||!1;if(r){var i=JSON.parse((null===(n=r.dataset)||void 0===n?void 0:n.brxAjaxLoader)||!1),o=(null==i?void 0:i.animation)||!1;if(o){var a=!(null==i||!i.selector)&&document.querySelector(i.selector);if(a||(a=r.querySelector(".brx-popup-content")),a){var s=a.nodeName.toLowerCase(),c=document.createElement(s);c.classList.add("brx-loading-animation"),c.dataset.ajaxLoaderPopupId=r.dataset.popupId,null!=i&&i.color&&c.style.setProperty("--brx-loader-color",i.color),null!=i&&i.scale&&(c.style.transform="scale(".concat(i.scale,")")),c.innerHTML=e(o),a.insertAdjacentElement("afterbegin",c)}}}})),document.addEventListener("bricks/ajax/popup/end",(function(e){var t;(null!=e&&null!==(t=e.detail)&&void 0!==t&&t.popupId?document.querySelectorAll('.brx-loading-animation[data-ajax-loader-popup-id="'.concat(e.detail.popupId,'"]')):[]).forEach((function(e){return e.remove()}))}))}function bricksQueryLoadPage(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var i,o=e.dataset.queryElementId,a=null===(i=window.bricksData.queryLoopInstances)||void 0===i?void 0:i[o];if(a&&(null==a||!a.isLoading||t)){var s=parseInt(a.page||1)+1,c=parseInt(a.maxPages||1);if(s>c)n({page:s,maxPages:c});else{var l=window.bricksData.restApiUrl.concat("load_query_page"),d={postId:window.bricksData.postId,queryElementId:o,queryVars:a.queryVars,page:s,nonce:window.bricksData.nonce,lang:window.bricksData.language||!1};if("1"===window.bricksData.useQueryFilter){var u=[];if(window.bricksData.filterInstances&&Object.keys(window.bricksData.filterInstances).length>0)u=Object.values(window.bricksData.filterInstances).filter((function(e){return e.targetQueryId===o})).map((function(e){return e.filterId}));if(u.length){var p=window.bricksUtils.getFiltersForQuery(o,"filterId"),b=window.bricksUtils.getSelectedFiltersForQuery(o),v="[]"===(null==a?void 0:a.originalQueryVars)?null==a?void 0:a.queryVars:null==a?void 0:a.originalQueryVars;d={postId:window.bricksData.postId,queryElementId:o,originalQueryVars:v,pageFilters:window.bricksData.pageFilters||!1,filters:p,infinitePage:s,selectedFilters:b,nonce:window.bricksData.nonce,baseUrl:window.bricksData.baseUrl,lang:window.bricksData.language||!1},l=window.bricksData.restApiUrl.concat("query_result")}}window.bricksData.queryLoopInstances[o].isLoading=1,t||document.dispatchEvent(new CustomEvent("bricks/ajax/start",{detail:{queryId:o}})),"wpml"!==window.bricksData.multilangPlugin||!window.location.search.includes("lang=")&&3==window.bricksData.wpmlUrlFormat||(l=l.concat("?lang="+window.bricksData.language));var f=new XMLHttpRequest;f.open("POST",l,!0),f.setRequestHeader("Content-Type","application/json; charset=UTF-8"),f.setRequestHeader("X-WP-Nonce",window.bricksData.wpRestNonce),f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){var i,l,d=f.status;try{l=JSON.parse(f.response)}catch(e){l=null}if(0===d||d>=200&&d<400){var u,p,b,v=(null===(u=l)||void 0===u?void 0:u.html)||!1,m=(null===(p=l)||void 0===p?void 0:p.styles)||!1,g=(null===(b=l)||void 0===b?void 0:b.popups)||!1;v&&(e.insertAdjacentHTML("afterend",v),document.dispatchEvent(new CustomEvent("bricks/ajax/nodes_added",{detail:{queryId:o}}))),g&&document.body.insertAdjacentHTML("beforeend",g),m&&document.body.insertAdjacentHTML("beforeend",m),window.bricksData.queryLoopInstances[o].page=s}else{if(403===d&&"rest_cookie_invalid_nonce"===(null===(i=l)||void 0===i?void 0:i.code)&&!t)return void bricksRegenerateNonceAndRetryQueryLoadPage(e).then(n).catch(r);console.error("Request failed with status ".concat(d))}window.bricksData.queryLoopInstances[o].isLoading=0,n({page:s,maxPages:c}),bricksUtils.hideOrShowLoadMoreButtons(o),document.dispatchEvent(new CustomEvent("bricks/ajax/end",{detail:{queryId:o}})),setTimeout((function(){var e,t=Array.from(null===(e=a.resultsContainer)||void 0===e?void 0:e.querySelectorAll(".brxe-".concat(o,":not(.brx-popup)"))).pop();document.dispatchEvent(new CustomEvent("bricks/ajax/load_page/completed",{detail:{queryTrailElement:t,queryId:o}})),a.infiniteScroll&&(t.dataset.queryElementId=o,BricksIsInViewport(t)?bricksQueryLoadPage(t):new BricksIntersect({element:t,callback:function(e){return bricksQueryLoadPage(e)},once:!0,rootMargin:a.observerMargin}))}),250)}},f.send(JSON.stringify(d))}}}))}function bricksRegenerateNonceAndRetryQueryLoadPage(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("POST",window.bricksData.ajaxUrl,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(r.status>=200&&r.status<400){var i;try{i=JSON.parse(r.responseText)}catch(e){return void n("Invalid response from server when regenerating nonce")}i.success&&i.data?(window.bricksData.nonce=i.data.bricks_nonce,window.bricksData.wpRestNonce=i.data.rest_nonce,bricksQueryLoadPage(e,!0).then(t).catch(n)):n("Failed to regenerate nonces: Invalid response structure")}else n("Failed to regenerate nonce")},r.send("action=bricks_regenerate_query_nonce")}))}var bricksQueryPaginationFn=new BricksFunction({parentNode:document,selector:".brx-ajax-pagination a",subscribeEvents:["bricks/ajax/pagination/completed","bricks/ajax/query_result/displayed"],eachElement:function(e){var t;null!==(t=e.dataset)&&void 0!==t&&t.ajaxPagination||(e.dataset.ajaxPagination=1,e.addEventListener("click",(function(e){var t,n=e.currentTarget,r=n.getAttribute("href"),i=n.closest(".brx-ajax-pagination"),o=null==i||null===(t=i.dataset)||void 0===t?void 0:t.queryElementId;if(function(e){var t,n=!0;if(!window.bricksData.useQueryFilter)return n;var r=e.closest(".brx-ajax-pagination"),i=(null==r||null===(t=r.dataset)||void 0===t?void 0:t.queryElementId)||!1;if(i){var o=bricksUtils.getFiltersForQuery(i);(o=o.filter((function(e){return"pagination"!==e.filterType}))).length>0&&(n=!1)}return n}(i)){var a=document.querySelector(".brxe-".concat(o));if(a){e.preventDefault(),document.dispatchEvent(new CustomEvent("bricks/ajax/start",{detail:{queryId:o}}));var s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType="document",s.onload=function(){if(this.readyState===XMLHttpRequest.DONE){var e=this.status;if(0===e||e>=200&&e<400){var t=this.responseXML,n=a.parentNode,i=document.createElement("div");i.style.display="none",a.insertAdjacentElement("beforebegin",i),n.querySelectorAll(".brxe-".concat(o,":not(.brx-popup)")).forEach((function(e){return e.remove()})),t.querySelectorAll(".brxe-".concat(o,":not(.brx-popup)")).forEach((function(e){return i.insertAdjacentElement("beforebegin",e)})),document.dispatchEvent(new CustomEvent("bricks/ajax/nodes_added",{detail:{queryId:o}})),i.remove(),document.querySelectorAll('.brx-popup[data-popup-loop="'.concat(o,'"]')).forEach((function(e){return e.remove()})),t.querySelectorAll('.brx-popup[data-popup-loop="'.concat(o,'"]')).forEach((function(e){return document.body.insertAdjacentElement("beforeend",e)}));var s=t.querySelector("#bricks-frontend-inline-inline-css"),c=document.querySelector("#bricks-frontend-inline-inline-css");c&&s&&c.replaceWith(s);var l=t.querySelector("#bricks-dynamic-data-inline-css"),d=document.querySelector("#bricks-dynamic-data-inline-css");d&&l&&d.replaceWith(l);var u=document.querySelectorAll('.brx-ajax-pagination[data-query-element-id="'.concat(o,'"]'));u.length>0&&u.forEach((function(e){var n=t.querySelector("#".concat(e.id,'.brx-ajax-pagination[data-query-element-id="').concat(o,'"]'));n&&e.replaceWith(n)})),document.dispatchEvent(new CustomEvent("bricks/ajax/end",{detail:{queryId:o}})),document.dispatchEvent(new CustomEvent("bricks/ajax/pagination/completed",{detail:{queryId:o}})),window.history.pushState({},"",r)}}},s.send()}}})))}});function bricksQueryPagination(){bricksQueryPaginationFn.run()}function bricksStickyHeader(){var e=document.querySelector("#brx-header.sticky");if(e){var t,n,r=document.querySelector(".bricks-site-logo"),i=-1,o=e.hasAttribute("data-slide-up-after")?e.getAttribute("data-slide-up-after"):0;r&&(t=r.getAttribute("data-bricks-logo"),n=r.getAttribute("data-bricks-logo-inverse"));var a=function(){if(!document.body.classList.contains("no-scroll")){var a=window.scrollY;a>0?(e.classList.add("scrolling"),r&&n&&r.src!==n&&(r.src=n,r.srcset="")):(e.classList.remove("scrolling"),r&&t&&r.src!==t&&(r.src=t)),o&&!document.querySelector(".bricks-search-overlay.show")&&(a>i&&i>=0?a>o&&(e.classList.contains("slide-up")||e.classList.add("sliding"),e.classList.add("slide-up")):(e.classList.contains("slide-up")&&e.classList.add("sliding"),e.classList.remove("slide-up"))),i=a}};e.addEventListener("transitionend",(function(t){"transform"===t.propertyName&&e.classList.remove("sliding")})),window.addEventListener("scroll",a),a()}}function bricksOnePageNavigation(){var e=document.getElementById("bricks-one-page-navigation");if(bricksIsFrontend&&e){var t=bricksQuerySelectorAll(document,"#brx-content > *"),n=[],r="",i="",o="";t&&(t.forEach((function(t){(r=t.getAttribute("id"))&&(n.push(r),o=document.createElement("li"),(i=document.createElement("a")).classList.add("bricks-one-page-".concat(r)),i.setAttribute("href","#".concat(r)),o.appendChild(i),e.appendChild(o))})),window.addEventListener("load",a),window.addEventListener("resize",a),document.addEventListener("scroll",a))}function a(){var e=window.scrollY;n.forEach((function(t){var n=document.getElementById(t),r=n.offsetTop,i=r+n.offsetHeight;e>=r-1&&e<i-1?document.querySelector(".bricks-one-page-".concat(t)).classList.add("active"):document.querySelector(".bricks-one-page-".concat(t)).classList.remove("active")}))}}function bricksSearchToggle(){bricksQuerySelectorAll(document,".brxe-search").forEach((function(e){var t=e.querySelector(".toggle"),n=e.querySelector(".bricks-search-overlay");if(t&&n){var r=n.previousElementSibling;document.addEventListener("keyup",(function(e){"Escape"===e.key&&("visible"===window.getComputedStyle(n).visibility&&(n.classList.remove("show"),r.focus(),r.setAttribute("aria-expanded",!1)))})),t.addEventListener("click",(function(){n.classList.toggle("show"),t.setAttribute("aria-expanded","false"===t.getAttribute("aria-expanded")),setTimeout((function(){e.querySelector("input[type=search]").focus()}),200)})),n.querySelector(".close").addEventListener("click",(function(){n.classList.remove("show"),r.focus(),r.setAttribute("aria-expanded",!1)}))}}))}var bricksAlertDismissFn=new BricksFunction({parentNode:document,selector:".brxe-alert svg",eachElement:function(e){e.addEventListener("click",(function(){e.closest(".brxe-alert").remove()}))}});function bricksAlertDismiss(){bricksAlertDismissFn.run()}var bricksTabsFn=new BricksFunction({parentNode:document,selector:".brxe-tabs, .brxe-tabs-nested",forceReinit:function(e,t){return!bricksIsFrontend},eachElement:function(e){var t=window.location.hash,n=e.getAttribute("data-open-on")||"click",r=e.querySelector(".tab-title"),i=r?Array.from(r.parentNode.children).filter((function(e){return e.classList.contains("tab-title")})):[],o=e.querySelector(".tab-pane"),a=o?Array.from(o.parentNode.children).filter((function(e){return e.classList.contains("tab-pane")})):[];if(i.length&&a.length){i.forEach((function(t,r){t.addEventListener(n,(function(){var n=null,o=null;i.forEach((function(e,i){i===r?(e.classList.add("brx-open"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),n=t):(e.classList.remove("brx-open"),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"))})),a.forEach((function(e,t){t===r?(e.classList.add("brx-open"),o=e):e.classList.remove("brx-open")}));var s=null==t||!t.id||t.id.startsWith("brxe-")||t.id.startsWith("brx-")?"":"#".concat(t.id);s?history.replaceState(null,null,s):history.replaceState(null,null," "),document.dispatchEvent(new CustomEvent("bricks/tabs/changed",{detail:{elementId:e.getAttribute("data-script-id"),activeIndex:r,activeTitle:n,activePane:o}}))})),t.addEventListener("keydown",(function(e){var t;if("ArrowRight"===e.key)t=r+1===i.length?0:r+1;else if("ArrowLeft"===e.key)t=r-1<0?i.length-1:r-1;else if("Home"===e.key)e.preventDefault(),t=0;else{if("End"!==e.key)return;e.preventDefault(),t=i.length-1}i[t].focus(),i[t].click()}))}));var s=0;if(t){var c=i.findIndex((function(e){return(null==e?void 0:e.id)&&!e.id.startsWith("brxe-")&&e.id===t.replace("#","")}));s=-1!==c?c:0}i[s]&&i[s].classList.add("brx-open"),a[s]&&a[s].classList.add("brx-open"),i.forEach((function(e){e.classList.contains("brx-open")?(e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0")):(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"))}))}}});function bricksTabs(){bricksTabsFn.run()}var bricksVideoOverlayClickDetectorFn=new BricksFunction({parentNode:document,selector:".bricks-video-overlay, .bricks-video-overlay-icon, .bricks-video-preview-image",frontEndOnly:!0,eachElement:function(e){var t=function(e){var t=e.target.closest(".brxe-video");if(t){var n=t.querySelector(".bricks-video-preview-image");if(n){var r=document.createElement("iframe");_toConsumableArray(n.attributes).forEach((function(e){"class"!==e.name&&"style"!==e.name&&("data-iframe-src"!==e.name?r.setAttribute(e.name,e.value):r.setAttribute("src",e.value))})),n.replaceWith(r)}var i=t.querySelector("iframe");i&&i.getAttribute("src")&&(i.src+="&autoplay=1"),i&&i.removeAttribute("tabindex");var o=t.querySelector("video");o&&(o.play(),o.removeAttribute("tabindex"),setTimeout((function(){o.focus()}),0))}};e.addEventListener("click",t),e.addEventListener("keydown",(function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t(e))}))}});function bricksVideoOverlayClickDetector(){bricksVideoOverlayClickDetectorFn.run()}var bricksBackgroundVideoInitFn=new BricksFunction({parentNode:document,selector:".bricks-background-video-wrapper",forceReinit:function(e,t){return!bricksIsFrontend},eachElement:function(e){if(!e.classList.contains("loaded")){var t,n=e.getAttribute("data-background-video-url");if(n){var r=parseInt(e.getAttribute("data-background-video-show-at-breakpoint"));if(!(r&&window.innerWidth<r)){var i=e.getAttribute("data-background-video-scale"),o=e.getAttribute("data-background-video-ratio")||"16:9",a=parseInt(o.split(":")[0]||16),s=parseInt(o.split(":")[1]||9),c=parseInt(e.getAttribute("data-background-video-start"))||0,l=parseInt(e.getAttribute("data-background-video-end"))||0,d=1==e.getAttribute("data-background-video-loop"),u=e.getAttribute("data-background-video-poster"),p=e.getAttribute("data-background-video-poster-yt-size");l<c&&(l=0);var b=!1,v=!1,f=!1;if(-1!==n.indexOf("youtube.com")){if(b=!0,v=!0,-1!==n.indexOf("watch?v=")){var m=n.lastIndexOf("=");t=n.slice(m+1)}else if(-1!==n.indexOf("embed/")){var g=n.lastIndexOf("/");t=n.slice(g+1)}n=n.replace("watch?v=","embed/")}-1!==n.indexOf("vimeo.com")&&(b=!0,f=!0,-1===n.indexOf("player.vimeo.com/video")&&(n=n.replace("vimeo.com","player.vimeo.com/video")));var y,k=function(){var e=document.createElement("img");e.classList.add("bricks-video-poster-image");var n=!1;return v&&(p?(e.src="https://img.youtube.com/vi/".concat(t,"/").concat(p,".jpg"),n=!0):u&&(e.src=u,n=!0)),f&&u&&(e.src=u,n=!0),!!n&&e},h=function(){var t=e.querySelector(".bricks-video-poster-image");t&&t.remove()};if(b){if(v){if(!document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){var w=document.createElement("script");w.src="https://www.youtube.com/iframe_api";var x=document.getElementsByTagName("script")[0];x.parentNode.insertBefore(w,x)}y=document.createElement("div"),bricksIsFrontend&&e.querySelector("video")&&e.removeChild(e.querySelector("video")),e.appendChild(y);var E=k();E&&e.appendChild(E);var L=setInterval((function(){if(window.YT&&YT.Player){clearInterval(L);var e=new YT.Player(y,{width:"640",height:"360",videoId:t,playerVars:{autoplay:1,controls:0,start:c||void 0,mute:1,rel:0,showinfo:0,modestbranding:1,cc_load_policy:0,iv_load_policy:3,autohide:0,loop:0,playlist:t,enablejsapi:1},events:{onReady:function(t){if(l)var n=setInterval((function(){e.getCurrentTime()>=l&&(d?e.seekTo(c||0,!0):(e.pauseVideo(),clearInterval(n)))}),1e3)},onStateChange:function(t){d&&t.data==YT.PlayerState.ENDED&&e.seekTo(c||0,!0),t.data==YT.PlayerState.PLAYING&&h()}}})}}),100)}if(f){if(!document.querySelector('script[src="https://player.vimeo.com/api/player.js"]')){var S=document.createElement("script");S.src="https://player.vimeo.com/api/player.js";var I=document.getElementsByTagName("script")[0];I.parentNode.insertBefore(S,I)}bricksIsFrontend&&e.querySelector("video")&&e.removeChild(e.querySelector("video")),y=document.createElement("div");var A=k();A&&e.appendChild(A),e.appendChild(y);var T=n.split("/").pop(),F=setInterval((function(){if(window.Vimeo&&Vimeo.Player){clearInterval(F);var e=new Vimeo.Player(y,{id:T,width:640,autoplay:!0,controls:!1,background:!0,loop:d&&!c});A&&e.on("play",(function(){h()})),c&&e.on("loaded",(function(){e.setCurrentTime(c)})),l&&e.on("timeupdate",(function(t){t.seconds>=l&&(d?(e.setCurrentTime(c||0),e.play()):e.pause())})),e.on("ended",(function(){d&&e.setCurrentTime(c||0).then((function(t){e.play()}))}))}}),100)}}else if(y=e.querySelector("video")){var q,C,P=null===(q=y.closest("[data-script-id]"))||void 0===q?void 0:q.getAttribute("data-script-id");d?y.hasAttribute("loop")||y.setAttribute("loop",""):y.removeAttribute("loop"),bricksIsFrontend||(y.currentTime=c||0),null!==(C=window.bricksData.videoInstances)&&void 0!==C&&C[P]||(window.bricksData.videoInstances[P]={}),window.bricksData.videoInstances[P].startTime=c,window.bricksData.videoInstances[P].endTime=l,window.bricksData.videoInstances[P].videoLoop=d;y.classList.contains("listening")||!c&&!l||(y.classList.add("listening"),y.addEventListener("loadedmetadata",(function(){window.bricksData.videoInstances[P].startTime&&(this.currentTime=window.bricksData.videoInstances[P].startTime,this.play())})),y.addEventListener("timeupdate",(function(){this.currentTime>=(window.bricksData.videoInstances[P].endTime||this.duration)-.25&&(window.bricksData.videoInstances[P].videoLoop?(this.currentTime=window.bricksData.videoInstances[P].startTime,y.paused&&this.play()):this.pause())})),y.addEventListener("ended",(function(){window.bricksData.videoInstances[P].videoLoop&&window.bricksData.videoInstances[P].startTime&&(this.currentTime=window.bricksData.videoInstances[P].startTime,this.play())})))}i&&(y.style.transform="translate(-50%, -50%) scale(".concat(i,")")),bricksIsFrontend?e.classList.contains("bricks-lazy-video")&&new BricksIntersect({element:e,callback:function(e){e.classList.remove("bricks-lazy-video"),b?e.appendChild(y):y.src=n}}):b?e.appendChild(y):y.src=n,e.classList.add("loaded"),new ResizeObserver((function(t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=void 0;if(i.contentBoxSize)o=(Array.isArray(i.contentBoxSize)?i.contentBoxSize[0]:i.contentBoxSize).inlineSize;else o=i.contentRect.width;var c=e.clientHeight,l=o*s/a;l<c&&(l=c,o=c*a/s),y.style.width="".concat(o,"px"),y.style.height="".concat(l,"px")}}catch(e){r.e(e)}finally{r.f()}})).observe(e)}}}}});function bricksBackgroundVideoInit(){bricksBackgroundVideoInitFn.run()}var bricksPhotoswipeFn=new BricksFunction({parentNode:document,selector:".bricks-lightbox",windowVariableCheck:["PhotoSwipeLightbox"],eachElement:function(e){var t=e,n="A"===e.tagName?"":"a",r=e.getAttribute("data-pswp-id"),i=e.getAttribute("data-animation-type")||"zoom";r&&(n=bricksQuerySelectorAll(document,'[data-pswp-id="'.concat(r,'"]')));var o={mainClass:"brx",gallery:t,counter:!t.classList.contains("brxe-carousel"),children:n,pswpModule:PhotoSwipe5,closeSVG:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',showHideAnimationType:i},a=e.getAttribute("data-lightbox-padding");a&&(o.padding=JSON.parse(a));var s=e.getAttribute("data-lightbox-image-click");s&&(o.imageClickAction=s);var c=new PhotoSwipeLightbox(o);if("undefined"!=typeof PhotoSwipeDynamicCaption&&e.classList.contains("has-lightbox-caption"))new PhotoSwipeDynamicCaption(c,{type:"below",captionContent:function(e){return e.data.element.getAttribute("data-lightbox-caption")}});if(e.classList.contains("has-lightbox-thumbnails")&&(c.on("uiRegister",(function(){c.pswp.ui.registerElement({name:"thumbnail-navigation",className:"pswp__thumbnail-nav-wrapper",appendTo:"wrapper",onInit:function(t,n){var r=document.createElement("div");r.className="pswp__thumbnail-nav";var i=e.querySelectorAll("a[data-pswp-src]"),a=[];i.forEach((function(e){if(!e.parentNode.classList.contains("swiper-slide-duplicate")){var t=e.getAttribute("href");t&&!a.includes(t)&&a.push(t)}})),a.forEach((function(t,n){var i=document.createElement("img");i.src=t,i.dataset.index=n;var o=e.getAttribute("data-lightbox-thumbnail-size");o&&(i.style.width=isNaN(o)?o:o+"px"),r.appendChild(i)})),t.appendChild(r),r.addEventListener("click",(function(e){var t=parseInt(e.target.getAttribute("data-index"));Number.isInteger(t)&&(r.setAttribute("data-active-index",t),null!=o&&o.loop&&(t+=2),n.goTo(t))}))}})})),c.on("change",(function(){var e=document.querySelector(".pswp__thumbnail-nav");if(e){var t=e.querySelector(".active");t&&t.classList.remove("active");var n=c.pswp.currSlide.data.element.dataset.pswpIndex||c.pswp.currIndex;if(t=e.querySelector('img[data-index="'.concat(n,'"'))){t.classList.add("active");var r=t.getBoundingClientRect(),i=e.offsetWidth/2-t.offsetLeft-r.width/2;i+=(window.innerWidth-e.offsetWidth)/2,e.style.transform="translateX("+i+"px)"}}}))),c.on("itemData",(function(t){var n=document.querySelector(".pswp__container"),r=e.getAttribute("data-pswp-video-url"),i=e.getAttribute("data-pswp-width"),o=e.getAttribute("data-pswp-height"),a=1==e.getAttribute("data-no-controls")?0:1;if(i&&(i.includes("%")||i.includes("vw"))&&(i=window.innerWidth*(parseInt(i)/100)),o&&(o.includes("%")||o.includes("vh"))&&(o=window.innerHeight*(parseInt(o)/100)),i||(i=1280),o&&720!=o||(o=Math.round(i/16*9)),!n&&r){var s=bricksGetLightboxVideoNode(r,a);t.itemData={html:s.outerHTML,width:i,height:o}}})),c.on("contentAppend",(function(e){var t=e.content;if(t.element){var n=t.element.querySelector("video");n&&n.play()}})),t.classList.contains("brxe-carousel")){var l,d=t.getAttribute("data-script-id");null!==(l=bricksData.swiperInstances)&&void 0!==l&&null!==(l=l[d])&&void 0!==l&&l.loopedSlides&&(c.addFilter("numItems",(function(e,t){if(t.gallery){var n=0;t.gallery.classList.contains("brxe-carousel")&&(n=t.gallery.querySelectorAll(".swiper-slide-duplicate").length),e=e>n?e-n:e}return e})),c.addFilter("clickedIndex",(function(e,t){var n=t.target.closest(".swiper-slide");if(n){var r=bricksData.swiperInstances[d].slides.map((function(e,t){return{slide:e,index:t}})).filter(Boolean);if(r.length){var i=parseInt(n.dataset.swiperSlideIndex),o=r.filter((function(e){return e.slide.dataset.swiperSlideIndex==i}));o.length&&(e=o[0].index)}}return e})))}c.init()}});function bricksPhotoswipe(){bricksPhotoswipeFn.run()}function bricksGetLightboxVideoNode(e,t){if(e){hasContent=!0;var n=!1;if(-1!==e.indexOf("youtube.com")&&(n=!0,e=e.replace("watch?v=","embed/"),e+="?autoplay=1",e+="&rel=0",t||(e+="&controls=0")),-1!==e.indexOf("vimeo.com")&&(n=!0,-1===e.indexOf("player.vimeo.com/video")&&(e=e.replace("vimeo.com","player.vimeo.com/video")),e+="?autoplay=1",t||(e+="&controls=0")),n){var r=document.createElement("iframe");return r.setAttribute("src",e),r.setAttribute("allow","autoplay"),r.setAttribute("allowfullscreen",1),r}var i=document.createElement("video");return i.setAttribute("src",e),t&&i.setAttribute("controls",1),i.setAttribute("playsinline",1),i}}var bricksAccordionFn=new BricksFunction({parentNode:document,selector:".brxe-accordion, .brxe-accordion-nested",forceReinit:!0,eachElement:function(e){var t,n,r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;t.style.transitionProperty="height, margin, padding",t.style.transitionDuration="".concat(n,"ms"),t.style.height="".concat(t.offsetHeight,"px"),t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0;var r=t.parentNode;window.setTimeout((function(){t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),r.classList.remove("brx-open"),document.dispatchEvent(new CustomEvent("bricks/accordion/close",{detail:{elementId:e.getAttribute("data-script-id"),closeItem:r}}))}),n)},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return"none"===window.getComputedStyle(t).display?function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;t.style.removeProperty("display");var r=window.getComputedStyle(t).display;"none"===r&&(r="block"),t.style.display=r;var i=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration="".concat(n,"ms"),t.style.height="".concat(i,"px"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom");var o=t.parentNode;window.setTimeout((function(){t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),o.classList.add("brx-open"),document.dispatchEvent(new CustomEvent("bricks/accordion/open",{detail:{elementId:e.getAttribute("data-script-id"),openItem:o}}))}),n)}(t,n):r(t,n)},o=Array.from(e.children),a=e.hasAttribute("data-transition")?isNaN(e.dataset.transition)?0:e.dataset.transition:200,s=null===(t=e.dataset.scriptArgs)||void 0===t?void 0:t.includes("expandFirstItem"),c=null===(n=e.dataset.scriptArgs)||void 0===n?void 0:n.includes("independentToggle"),l=window.location.hash||"";(o=o.filter((function(e){return e.classList.contains("brxe-section")||e.classList.contains("brxe-container")||e.classList.contains("brxe-block")||e.classList.contains("brxe-div")||e.classList.contains("accordion-item")}))).forEach((function(t,n){0===n&&s&&t.classList.add("brx-open");var o=null!=t&&t.id&&!t.id.startsWith("brxe-")?"#".concat(t.id):"";if(o&&o===l&&t.classList.add("brx-open"),!t.classList.contains("listening")){t.classList.add("listening"),t.addEventListener("click",(function(t){var n=t.target.closest(".accordion-title-wrapper");if(n){var s=n.parentNode;if(s){var l=s.querySelector(".accordion-content-wrapper");if(l){if(t.stopPropagation(),!c){var d=e.querySelectorAll(".brx-open");d.length&&d.forEach((function(e){var t=e.querySelector(".accordion-content-wrapper");t&&t!==l&&(r(t,a),t.previousElementSibling.setAttribute("aria-label",window.bricksData.i18n.openAccordion),t.previousElementSibling.setAttribute("aria-expanded","false"))}))}var u=!s.classList.contains("brx-open");o&&u?history.replaceState(null,null,o):history.replaceState(null,null," "),i(l,a),s.classList.contains("brx-open")?n.setAttribute("aria-expanded","false"):n.setAttribute("aria-expanded","true")}}}}));var d=t.querySelector(".accordion-title-wrapper")||t;"button"===d.getAttribute("role")&&d.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d.click())}))}}))}});function bricksAccordion(){bricksAccordionFn.run()}var bricksAnimatedTypingFn=new BricksFunction({parentNode:document,selector:".brxe-animated-typing",windowVariableCheck:["Typed"],eachElement:function(e){var t,n=e.dataset.scriptId;try{t=JSON.parse(e.dataset.scriptArgs)}catch(e){return!1}var r=e.querySelector(".typed");if(r&&(window.bricksData.animatedTypingInstances[n]&&!e.closest(".brxe-slider-nested.splide")&&window.bricksData.animatedTypingInstances[n].destroy(),t.hasOwnProperty("strings")&&t.strings&&(!Array.isArray(t.strings)||t.strings.toString()))){window.bricksData.animatedTypingInstances[n]=new Typed(r,t);var i=e.closest(".brx-popup:not([data-popup-ajax])");i&&document.addEventListener("bricks/popup/open",(function(e){e.detail.popupElement===i&&window.bricksData.animatedTypingInstances[n].reset()}))}}});function bricksAnimatedTyping(){bricksAnimatedTypingFn.run()}var bricksAudioFn=new BricksFunction({parentNode:document,selector:".brxe-audio",windowVariableCheck:["MediaElementPlayer"],eachElement:function(e){var t=e.querySelector("audio");if(t)new MediaElementPlayer(t)}});function bricksAudio(){bricksAudioFn.run()}var bricksPostReadingTimeFn=new BricksFunction({parentNode:document,selector:".brxe-post-reading-time",eachElement:function(e){var t=e.getAttribute("data-wpm"),n=e.getAttribute("data-cpm");if(t||n){var r=e.dataset.contentSelector||".brxe-post-content",i=e.closest("[data-query-loop-index]"),o=i?i.querySelector(r):document.querySelector(r);if(o||(o=document.querySelector("#brx-content")),o){var a,s=e.getAttribute("data-prefix")||"",c=e.getAttribute("data-suffix")||"",l=o.textContent,d=1.5,u=2.5;if(n){var p=l.replace(/\s+/g,"").length;a=Math.ceil(p/parseInt(n))}else{var b=function(e){var t,n,r=0,i=0,o="",a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=/[\u4e00-\u9fa5]/.test(n=s)?"chinese":/[\u3040-\u30FF]/.test(n)?"japanese":"other";"chinese"===c?r++:"japanese"===c?i++:o+=s}}catch(e){a.e(e)}finally{a.f()}var l=r/d,p=i/u;return o=function(e,t){var n=new RegExp("\\S{".concat(15,",}"),"g");return e.replace(n,(function(e){return e.match(new RegExp(".{1,".concat(t,"}"),"g")).join(" ")}))}(o,5),l+p+o.split(/\s+/).filter((function(e){return e.length>0})).length}(l);a=Math.ceil(b/parseInt(t))}e.textContent=s+a+c}}}});function bricksPostReadingTime(){bricksPostReadingTimeFn.run()}var bricksCountdownFn=new BricksFunction({parentNode:document,selector:".brxe-countdown",eachElement:function(e){countdown=function(e,t,n){var r=6e4*(("+"===t.timezone[3]?1:-1)*(60*parseInt(t.timezone.substring(4,6))+parseInt(t.timezone.substring(7,9)))),i=6e4*-(new Date).getTimezoneOffset(),o=t.date.replace(" ","T"),a=new Date(o).getTime()+i-r-(new Date).getTime();if(a<=0){if(clearInterval(e.dataset.bricksCountdownId),"hide"===t.action)return void(e.innerHTML="");if("text"===t.action)return void(e.innerHTML=t.actionText)}n&&(e.innerHTML="",t.fields.forEach((function(t){if(t.format){var n=document.createElement("div");if(n.classList.add("field"),t.prefix){var r=document.createElement("span");r.classList.add("prefix"),r.innerHTML=t.prefix,n.appendChild(r)}var i=document.createElement("span");if(i.classList.add("format"),n.appendChild(i),t.suffix){var o=document.createElement("span");o.classList.add("suffix"),o.innerHTML=t.suffix,n.appendChild(o)}e.appendChild(n)}})));var s=bricksQuerySelectorAll(e,".field"),c=Math.floor(a/864e5),l=Math.floor(a%864e5/36e5),d=Math.floor(a%36e5/6e4),u=Math.floor(a%6e4/1e3);t.fields.forEach((function(e,t){if(e.format&&s[t]){var n=e.format.toLowerCase();n.includes("%d")?(e.format.includes("%D")&&c<=9&&(c="0".concat(c)),s[t].querySelector(".format").innerHTML=n.replace("%d",a<=0?0:c)):n.includes("%h")?(e.format.includes("%H")&&l<=9&&(l="0".concat(l)),s[t].querySelector(".format").innerHTML=n.replace("%h",a<=0?0:l)):n.includes("%m")?(e.format.includes("%M")&&d<=9&&(d="0".concat(d)),s[t].querySelector(".format").innerHTML=n.replace("%m",a<=0?0:d)):n.includes("%s")&&(e.format.includes("%S")&&u<=9&&(u="0".concat(u)),s[t].querySelector(".format").innerHTML=n.replace("%s",a<=0?0:u))}}))};var t=e.dataset.bricksCountdownOptions;try{t=JSON.parse(t)}catch(e){return!1}if(t.hasOwnProperty("date")&&t.hasOwnProperty("fields")){var n=e.dataset.bricksCountdownId;n&&clearInterval(n),countdown(e,t,!0),n=setInterval(countdown,1e3,e,t,!1),e.dataset.bricksCountdownId=n}}});function bricksCountdown(){bricksCountdownFn.run()}var bricksCounterFn=new BricksFunction({parentNode:document,selector:".brxe-counter",subscribeEvents:["bricks/popup/open","bricks/ajax/pagination/completed","bricks/ajax/load_page/completed","bricks/ajax/query_result/displayed"],forceReinit:function(e,t){return e.closest(".brx-popup")},eachElement:function(e){var t,n=e.dataset.bricksCounterOptions;try{n=JSON.parse(n)}catch(e){return!1}var r=e.querySelector(".count"),i=n.hasOwnProperty("countFrom")?parseInt(n.countFrom):0,o=n.hasOwnProperty("countTo")?parseInt(n.countTo):100,a=n.hasOwnProperty("duration")?parseInt(n.duration):1e3,s=null===(t=n)||void 0===t?void 0:t.separator;a<500&&(a=500);var c=a/(o-i),l=1;c<16&&(l=Math.ceil(16/c),c=16);var d=function(){var e=r.innerText.replace(/\D/g,""),t=(e=isNaN(e)?i:parseInt(e))+l<o?e+l:o;if(e>=o)return clearInterval(r.dataset.counterId),void delete r.dataset.counterId;n.thousands&&s?r.innerText=t.toLocaleString("en-US").replaceAll(",",s):n.thousands?r.innerText=t.toLocaleString():r.innerText=t},u=function(){r.innerText=i,null==r.dataset.counterId&&(r.dataset.counterId=setInterval(d,c))},p=r.closest(".brx-popup");p?p.classList.contains("hide")||u():new BricksIntersect({element:e,callback:u})},listenerHandler:function(e){var t;if(null!=e&&e.type)if("bricks/popup/open"===e.type){var n={parentNode:null!==(t=e.details)&&void 0!==t&&t.popupElement?e.details.popupElement:document};bricksCounterFn.run(n)}else bricksCounterFn.run()}});function bricksCounter(){bricksCounterFn.run()}var bricksTableOfContentsFn=new BricksFunction({parentNode:document,selector:".brxe-post-toc",eachElement:function(e){var t=e.dataset.scriptId;if(null!==e.offsetParent&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)){var n=e.dataset.contentSelector||".brxe-post-content",r=document.querySelector(n);if(r||(r=document.querySelector("#brx-content"))&&(n="#brx-content"),r){var i=e.dataset.headingSelectors||"h2, h3",o=r.querySelectorAll(i),a={};o.forEach((function(e){if(!e.id||a[e.id]){var n=function(e,t){var n=e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[!@#$%^&*()=:;,.„“"'`]/gi,"").replace(/\//gi,"-").split(" ").join("-");if(/^\d/.test(n))return"".concat(t,"-").concat(n);return n}(e.textContent,t);a[n]?(a[n]++,n="".concat(n,"-").concat(a[n])):a[n]=1,e.id=n}else a[e.id]=1}));var s=parseInt(e.dataset.headingsOffset)||0,c=e.hasAttribute("data-smooth-scroll"),l={tocSelector:'.brxe-post-toc[data-script-id="'.concat(t,'"]'),contentSelector:n,headingSelector:i,ignoreSelector:e.dataset.ignoreSelector||".toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:e.dataset.collapseInactive?0:6,scrollSmooth:s,scrollSmoothDuration:c&&s?420:0,scrollSmoothOffset:s?-s:0,headingsOffset:s,throttleTimeout:0,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,orderedList:!1,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollOffset:0};window.tocbot.init(l)}}}});function bricksTableOfContents(){bricksTableOfContentsFn.run()}var bricksFormFn=new BricksFunction({parentNode:document,selector:".brxe-form",eachElement:function(e){var t=e.getAttribute("data-element-id");bricksQuerySelectorAll(e,'input[type="checkbox"]').forEach((function(t){t.required&&t.addEventListener("click",(function(n){var r=t.getAttribute("name"),i=bricksQuerySelectorAll(e,'input[name="'.concat(r,'"]')),o=!1;i.forEach((function(e){!0===e.checked&&(o=!0)})),o?i.forEach((function(e){e.required=!1})):i.forEach((function(e){e.required=!0}))}))}));var n=e.querySelectorAll('input:not([type="hidden"]):not([type="file"]), textarea');function r(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&!e.isValidationNeeded)return!0;var t=e.value.trim(),n=e.getAttribute("data-error-message"),i=e.closest(".form-group"),o=!1;if(e.hasAttribute("required")&&!t&&(o=!0),"number"===e.type){var a=parseFloat(e.getAttribute("min")),s=parseFloat(e.getAttribute("max")),c=parseFloat(t);(null!==a&&c<a||null!==s&&c>s)&&(o=!0)}"email"===e.type&&(o=!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)),"url"===e.type&&(o=!/^(https?:\/\/)?([\w.-]+)\.([a-z.]{2,6})([\/\w.-]*)*\/?$/.test(t)),e.hasAttribute("required")||""!=t||(o=!1);var l=i.querySelector(".form-group-error-message");return l||((l=document.createElement("div")).classList.add("form-group-error-message"),i.appendChild(l)),o?(e.isValidationNeeded=!1,l.innerText=n,l.classList.add("show"),e.addEventListener("input",(function(){r(e)}))):(l.innerText="",l.classList.remove("show"),e.removeEventListener("input",(function(){r(e)}))),setTimeout((function(){e.isValidationNeeded=!0}),300),!o}n.forEach((function(e){if(e.getAttribute("data-error-message")&&bricksIsFrontend){var t=function(){e.isValidationNeeded&&r(e)};e.addEventListener("input",t),e.addEventListener("blur",t),e.isValidationNeeded=!0}})),bricksQuerySelectorAll(e,".flatpickr").forEach((function(e){var t=e.dataset.bricksDatepickerOptions;t&&((t=JSON.parse(t)).disableMobile=!0,t.onReady=function(e,t,n){if(n.altInput){var r=n.altInput.previousElementSibling?n.altInput.previousElementSibling.getAttribute("aria-label"):"Date";n.altInput.setAttribute("aria-label",r||"Date")}},flatpickr(e,t))}));var i={};bricksQuerySelectorAll(e,"input[type=file]").forEach((function(t){var n=t.getAttribute("data-files-ref"),r=t.getAttribute("data-maxsize")||!1,o=t.getAttribute("data-limit")||!1;r=!!r&&1024*parseInt(r)*1024,t.addEventListener("change",(function(a){var s=a.target.files,c=s.length,l=t.getAttribute("name");if(c)for(var d=e.querySelector('.file-result[data-files-ref="'.concat(n,'"]')),u=function(){var e=s[p],t=!1,n=d.cloneNode(!0);if(o&&i.hasOwnProperty(l)&&i[l].length>=o&&(t="limit"),r&&e.size>r&&(t="size"),n.classList.add("show"),t){n.classList.add("danger"),n.querySelector(".text").remove(),n.querySelector(".remove").remove();var a=n.querySelector("svg"),c=n.getAttribute("data-error-".concat(t)).replace("%s",e.name);n.insertAdjacentHTML("afterbegin",c),a.addEventListener("click",(function(){n.remove()}))}else{i.hasOwnProperty(l)||(i[l]=[]),i[l].push(e);var u=n.querySelector(".text"),b=n.querySelector(".remove");n.querySelector("svg").remove(),u.innerHTML=e.name,b.setAttribute("data-name",e.name),b.setAttribute("data-field",l),b.addEventListener("click",(function(e){for(var t=e.target.getAttribute("data-name"),r=e.target.getAttribute("data-field"),o=i[r],a=0;a<o.length;a++)if(o[a].name===t){i[l].splice(a,1);break}n.remove()}))}d.parentNode.insertBefore(n,d.nextSibling)},p=0;p<c;p++)u()}))})),e.addEventListener("submit",(function(o){var a;if(o.preventDefault(),bricksIsFrontend){var s=!0;if(n.forEach((function(e){e.getAttribute("data-error-message")&&bricksIsFrontend&&(s=s&&r(e,!0))})),s){var c=e.querySelector("[data-hcaptcha-widget-id]"),l=c?c.getAttribute("data-hcaptcha-widget-id"):"";if("function"==typeof(null===(a=window)||void 0===a||null===(a=a.hcaptcha)||void 0===a?void 0:a.execute)&&document.querySelector('.h-captcha[data-size="invisible"]'))hcaptcha.execute(l,{async:!0}).then((function(){bricksSubmitForm(t,e,i,null)})).catch((function(e){console.warn(e)}));else{var d=document.getElementById("recaptcha-".concat(t)),u=e.querySelector(".recaptcha-error");if(d){var p=d.getAttribute("data-key");if(p)try{grecaptcha.ready((function(){try{grecaptcha.execute(p,{action:"bricks_form_submit"}).then((function(n){u.classList.remove("show"),bricksSubmitForm(t,e,i,n)})).catch((function(t){u.classList.add("show"),e.querySelector(".alert").innerText="Google reCaptcha ".concat(t)}))}catch(t){u.classList.add("show"),e.querySelector(".alert").innerText="Google reCaptcha ".concat(t)}}))}catch(t){u.classList.add("show"),e.querySelector(".alert").innerText="Google reCaptcha ".concat(t)}else u.classList.add("show")}else bricksSubmitForm(t,e,i,null)}}}}))}});function bricksForm(){bricksFormFn.run()}function bricksSubmitForm(e,t,n,r,i){if(t.action&&t.action.includes("action=postpass"))t.submit();else{var o=t.querySelector("button[type=submit]");o.classList.add("sending");var a=t.dataset.loopObjectId?t.dataset.loopObjectId:window.bricksData.postId,s=new FormData(t);s.append("action","bricks_form_submit"),s.append("loopId",a),s.append("postId",window.bricksData.postId),s.append("formId",e),s.append("recaptchaToken",r||""),s.append("nonce",window.bricksData.formNonce),s.append("referrer",location.toString());var c=JSON.parse(t.getAttribute("data-notice")),l={};window.location.search.substring(1).split("&").forEach((function(e){var t=e.split("=");l[t[0]]=decodeURIComponent(t[1])})),s.append("urlParams",JSON.stringify(l));var d=t.getAttribute("data-global-id");d&&s.append("globalId",d);var u=function(e){n[e].forEach((function(t){s.append("".concat(e,"[]"),t,t.name)}))};for(var p in n)u(p);document.dispatchEvent(new CustomEvent("bricks/form/submit",{detail:{elementId:e,formData:s}}));var b=window.bricksData.ajaxUrl,v=new XMLHttpRequest;v.open("POST",b,!0),v.onreadystatechange=function(){var a,l,d,u,p,b,f,m=function(e){try{return JSON.parse(e)}catch(e){return null}}(v.response);if(window.bricksData.debug&&console.warn("bricks_form_submit",v,m),m&&4==(null==v?void 0:v.readyState)){var g,y,k,h;if("invalid_nonce"===(null==m||null===(a=m.data)||void 0===a?void 0:a.code)){if(!i)return void bricksRegenerateNonceAndResubmit(e,t,n,r)}else m.success&&"success"===(null===(y=m.data)||void 0===y?void 0:y.type)?g="bricks/form/success":m.success&&"error"!==(null===(k=m.data)||void 0===k?void 0:k.type)||(g="bricks/form/error");if(g&&document.dispatchEvent(new CustomEvent(g,{detail:{elementId:e,formData:s,res:m}})),!m.success||"mailchimp"!==(null===(l=m.data)||void 0===l?void 0:l.action)&&"sendgrid"!==(null===(d=m.data)||void 0===d?void 0:d.action)||(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"bricksNewsletterSignup"})),m.success&&null!==(u=m.data)&&void 0!==u&&u.redirectTo)setTimeout((function(){window.location.href=m.data.redirectTo}),parseInt(null===(h=m.data)||void 0===h?void 0:h.redirectTimeout)||0);else m.success&&null!==(p=m.data)&&void 0!==p&&p.refreshPage&&setTimeout((function(){window.location.reload()}),1e3);t.querySelector(".message")&&t.querySelector(".message").remove();var w=document.createElement("div");w.classList.add("message");var x,E=document.createElement("div");if(E.classList.add("text"),null!==(b=m.data)&&void 0!==b&&b.message)if(null!==(x=m.data.message)&&void 0!==x&&x.errors){var L=m.data.message.errors;Object.keys(L).forEach((function(e){E.innerHTML+=L[e][0]+"<br>"}))}else E.innerHTML=m.data.message;if(w.appendChild(E),null!==(f=m.data)&&void 0!==f&&f.info){var S=document.createElement("div"),I=document.createElement("div");I.innerHTML=m.data.info.join("<br>"),w.appendChild(S),S.appendChild(I)}else w.classList.add(m.data.type);if(c){var A=function(){w.classList.add("closing"),setTimeout((function(){null==w||w.remove()}),200)};if(c.closeButton){var T=document.createElement("button");T.classList.add("close"),T.innerHTML='<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke-linecap="round" stroke-width="2" stroke="currentcolor" fill="none" stroke-linejoin="round"><path d="M0.5,0.5l23,23"></path><path d="M23.5,0.5l-23,23"></path></g><path fill="none" d="M0,0h24v24h-24Z"></path></svg>',w.appendChild(T),T.addEventListener("click",(function(e){e.preventDefault(),A()}))}var F=null==c?void 0:c.closeAfter;F&&setTimeout((function(){A()}),parseInt(F))}if(t.appendChild(w),o.classList.remove("sending"),m.success){for(var q in t.reset(),n)delete n[q];var C=bricksQuerySelectorAll(t,".file-result.show");if(null!==C&&C.forEach((function(e){e.remove()})),window.top!=window.self&&!t.querySelector('input[name="brx_pp_temp_id"]')){var P=window.top.document.querySelector("button.wp-auth-check-close");P&&P.click()}}else{var N=t.querySelector(".cf-turnstile"),_=N?N.querySelector("iframe"):null,D=_?_.id:null;D&&turnstile.reset(D);var O=bricksQuerySelectorAll(t,".file-result.show.danger");null!==O&&O.forEach((function(e){e.remove()}))}}},v.send(s)}}function bricksRegenerateNonceAndResubmit(e,t,n,r){var i=new XMLHttpRequest;i.open("POST",window.bricksData.ajaxUrl+"?t="+(new Date).getTime(),!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var o=i.responseText;window.bricksData.formNonce=o,bricksSubmitForm(e,t,n,r,!0)}},i.send("action=bricks_regenerate_form_nonce")}var bricksIsotopeFn=new BricksFunction({parentNode:document,selector:".bricks-layout-wrapper.isotope",forceReinit:!0,windowVariableCheck:["Isotope"],eachElement:function(e){var t=!1,n="";if(e.classList.contains("bricks-masonry"))t=e.getAttribute("data-script-id"),n="masonry-element";else if(e.classList.contains("brxe-image-gallery"))t=e.getAttribute("data-script-id"),n="image-gallery";else{var r;t=null===(r=e.closest(".brxe-posts"))||void 0===r?void 0:r.getAttribute("data-script-id"),n="posts"}if(t&&n)if(bricksIsFrontend&&window.bricksData.isotopeInstances[t])bricksUtils.updateIsotopeInstance(t);else{var i={},o=e.getAttribute("data-layout");if("masonry-element"===n){var a,s;o="masonry";var c=e.getAttribute("data-brx-masonry-json")||"{}",l={};try{l=JSON.parse(c)}catch(e){console.error("Bricks: Invalid JSON data for Masonry element")}var d=(null===(a=l)||void 0===a?void 0:a.transitionDuration)||"0.4s",u=(null===(s=l)||void 0===s?void 0:s.transitionMode)||"scale";if(i={itemSelector:".bricks-masonry > *:not(.bricks-isotope-sizer):not(.bricks-gutter-sizer)",percentPosition:!0,masonry:{columnWidth:".bricks-isotope-sizer",gutter:".bricks-gutter-sizer"},transitionDuration:d},"0s"===d||"0"===d)i.hiddenStyle={opacity:1},i.visibleStyle={opacity:1},i.instantLayout=!0;else switch(u){case"fade":i.hiddenStyle={opacity:0},i.visibleStyle={opacity:1};break;case"slideLeft":i.hiddenStyle={opacity:0,transform:"translateX(-50%)"},i.visibleStyle={opacity:1,transform:"translateX(0)"};break;case"slideRight":i.hiddenStyle={opacity:0,transform:"translateX(50%)"},i.visibleStyle={opacity:1,transform:"translateX(0)"};break;case"skew":i.hiddenStyle={opacity:0,transform:"skew(20deg)"},i.visibleStyle={opacity:1,transform:"skew(0)"}}}else i={itemSelector:".bricks-layout-item",percentPosition:!0},"grid"===o?(i.layoutMode="fitRows",i.fitRows={gutter:".bricks-gutter-sizer"}):"masonry"!==o&&"metro"!==o||(i.masonry={columnWidth:".bricks-isotope-sizer",gutter:".bricks-gutter-sizer"});var p=new Isotope(e,i),b=e.parentNode.querySelector(".bricks-isotope-filters");if(b&&b.addEventListener("click",(function(e){var t=e.target.getAttribute("data-filter"),n=b.querySelector("li.active");t&&bricksIsFrontend&&(n&&n.classList.remove("active"),e.target.classList.add("active"),p.arrange({filter:t}))})),bricksIsFrontend){var v=e.querySelectorAll("img");if(v.length){var f=v.length,m=0,g=20,y=function(){Math.round(m/f*100)>=g&&(p.layout(),g+=20)};v.forEach((function(e){e.complete&&0!==e.naturalHeight?(m++,y()):(e.addEventListener("load",(function(){m++,y()})),e.addEventListener("error",(function(){m++,y()})))}))}}window.bricksData.isotopeInstances[t]={elementId:t,instance:p,layout:o,filters:b,options:i,element:e,elementName:n}}},listenerHandler:function(e){setTimeout((function(){bricksIsotopeFn.run()}),100)}});function bricksIsotope(){bricksIsotopeFn.run()}function bricksIsotopeListeners(){document.addEventListener("bricks/tabs/changed",(function(e){var t,n=(null===(t=e.detail)||void 0===t?void 0:t.activePane)||!1;if(n){var r=n.querySelectorAll(".bricks-layout-wrapper.isotope[data-script-id]");r.length&&r.forEach((function(e){var t=e.getAttribute("data-script-id");setTimeout((function(){bricksUtils.updateIsotopeInstance(t)}),0)}))}})),document.addEventListener("bricks/accordion/open",(function(e){var t,n=(null===(t=e.detail)||void 0===t?void 0:t.openItem)||!1;if(n){var r=n.querySelectorAll(".bricks-layout-wrapper.isotope[data-script-id]");r.length&&r.forEach((function(e){var t=e.getAttribute("data-script-id");setTimeout((function(){bricksUtils.updateIsotopeInstance(t)}),0)}))}})),document.addEventListener("bricks/ajax/nodes_added",(function(e){var t,n,r=null==e||null===(t=e.detail)||void 0===t?void 0:t.queryId;if(r){var i,o=window.bricksData.queryLoopInstances[r]||!1;if(o)if((null===(n=o.resultsContainer)||void 0===n||null===(n=n.classList)||void 0===n?void 0:n.contains("bricks-masonry"))||window.bricksData.isotopeInstances[r])if(window.bricksData.isotopeInstances[r])bricksUtils.updateIsotopeInstance(r);else bricksUtils.updateIsotopeInstance(null===(i=o.resultsContainer)||void 0===i?void 0:i.getAttribute("data-script-id"))}})),window.addEventListener("load",(function(){bricksIsotope()}))}var bricksMapFn=new BricksFunction({parentNode:document,selector:".brxe-map",eachElement:function(e,t){setTimeout((function(){var t=function(){var t=e.dataset.bricksMapOptions;if(!t)return!1;try{return JSON.parse(t)}catch(e){return!1}}();if(t){var n=Array.isArray(null==t?void 0:t.addresses)?t.addresses:[{address:"Berlin, Germany"}],r=[],i={};null!=t&&t.marker&&(i.icon={url:t.marker},null!=t&&t.markerHeight&&null!=t&&t.markerWidth&&(i.icon.scaledSize=new google.maps.Size(parseInt(t.markerWidth),parseInt(t.markerHeight))));var o={};null!=t&&t.markerActive&&(o={url:t.markerActive},null!=t&&t.markerActiveHeight&&null!=t&&t.markerActiveWidth&&(o.scaledSize=new google.maps.Size(parseInt(t.markerActiveWidth),parseInt(t.markerActiveHeight))));var a=[],s=new google.maps.LatLngBounds,c="auto";t.draggable?t.scrollwheel&&t.draggable?c="cooperative":!t.scrollwheel&&t.draggable&&(c="greedy"):c="none",t.disableDefaultUI&&(t.fullscreenControl=!1,t.mapTypeControl=!1,t.streetViewControl=!1,t.zoomControl=!1);var l=t.zoom?parseInt(t.zoom):12,d={zoom:l,gestureHandling:c,fullscreenControl:t.fullscreenControl,mapTypeControl:t.mapTypeControl,streetViewControl:t.streetViewControl,zoomControl:t.zoomControl,disableDefaultUI:t.disableDefaultUI};if(null!=t&&t.styles)try{d.styles=JSON.parse(t.styles)}catch(e){}t.zoomControl&&(null!=t&&t.maxZoom&&(d.maxZoom=parseInt(t.maxZoom)),null!=t&&t.minZoom&&(d.minZoom=parseInt(t.minZoom)));for(var u=new google.maps.Map(e,d),p=0;p<n.length;p++){var b=n[p];if(null!=b&&b.latitude&&null!=b&&b.longitude)f(b,{lat:parseFloat(b.latitude),lng:parseFloat(b.longitude)});else if(null!=b&&b.address){(new google.maps.Geocoder).geocode({address:b.address},v(b))}}null!=t&&t.type&&u.setMapTypeId(t.type)}function v(e){return function(t,n){if("OK"===n){var r=t[0].geometry.location;f(e,r)}else console.warn("Geocode error:",n)}}function f(e,t){i.map=u,i.position=t;var c=new google.maps.Marker(i);if(c.setMap(u),r.push(c),google.maps.event.addListener(c,"click",(function(){!function(e){var l;null!=i&&i.icon&&r.forEach((function(e){e.setIcon(i.icon)}));a.forEach((function(e){e.hide()})),null!==(l=o)&&void 0!==l&&l.url&&c.setIcon(o);var d,p="",b=(null==e?void 0:e.infoTitle)||!1,v=(null==e?void 0:e.infoSubtitle)||!1,f=(null==e?void 0:e.infoOpeningHours)||!1,m=(null==e?void 0:e.infoImages)||{};Array.isArray(m)||(m=Array.isArray(null===(d=m)||void 0===d?void 0:d.images)?m.images:[]);b&&(p+='<h3 class="title">'.concat(b,"</h3>"));v&&(p+='<p class="subtitle">'.concat(v,"</p>"));f&&(p+='<ul class="content">',(f=f.split("\n")).length&&f.forEach((function(e){p+="<li>".concat(e,"</li>")})),p+="</ul>");m.length&&(p+='<ul class="images bricks-lightbox">',m.forEach((function(t){p+="<li>",t.thumbnail&&t.src&&(p+='<a\n\t\t\t\t\t\t\t\t\tdata-pswp-src="'.concat(t.src,'"\n\t\t\t\t\t\t\t\t\tdata-pswp-width="').concat((null==t?void 0:t.width)||376,'"\n\t\t\t\t\t\t\t\t\tdata-pswp-height="').concat((null==t?void 0:t.height)||376,'"\n\t\t\t\t\t\t\t\t\tdata-pswp-id="').concat(e.id,'">'),p+='<img src="'.concat(t.thumbnail,'"/>'),p+="</a>"),p+="</li>"})),p+="</ul>");if(p){var g=parseInt(null==e?void 0:e.infoWidth)||300,y={content:p,disableAutoPan:!0,pixelOffset:new google.maps.Size(0,0),alignBottom:!1,infoBoxClearance:new google.maps.Size(20,20),enableEventPropagation:!1,zIndex:1001,boxStyle:{opacity:1,zIndex:999,top:0,left:0,width:"".concat(g,"px")}};void 0!==window.jQuery&&(y.closeBoxURL="",y.content+='<span class="close">×</span>');var k=new InfoBox(y);k.open(u,c),a.push(k),setTimeout((function(){var e=k.div_.offsetHeight,t=u.getProjection().fromLatLngToPoint(c.getPosition()),n=u.getProjection().fromPointToLatLng(new google.maps.Point(t.x,t.y-e*function(){var e=u.getCenter(),t=u.getZoom(),n=1,r=u.getProjection().fromLatLngToPoint(new google.maps.LatLng(e.lat()-n/Math.pow(2,t),e.lng()-n/Math.pow(2,t))),i=u.getProjection().fromLatLngToPoint(new google.maps.LatLng(e.lat()+n/Math.pow(2,t),e.lng()+n/Math.pow(2,t)));return Math.abs(i.x-r.x)}()/2));u.panTo(n)}),100),google.maps.event.addListener(k,"domready",(function(e){m.length&&bricksPhotoswipe(),void 0!==window.jQuery&&jQuery(".close").on("click",(function(){k.close(),null!=i&&i.icon&&c.setIcon(i.icon),n.length>1&&(s.extend(t),u.fitBounds(s),u.panToBounds(s))}))}))}}(e)})),s.extend(t),u.fitBounds(s),u.panToBounds(s),1===n.length)var d=google.maps.event.addListener(u,"idle",(function(){u.setZoom(l),google.maps.event.removeListener(d)}))}}),1e3*t)}});function bricksMap(){bricksMapFn.run()}var bricksPieChartFn=new BricksFunction({parentNode:document,selector:".brxe-pie-chart",windowVariableCheck:["EasyPieChart"],eachElement:function(e){new BricksIntersect({element:e,callback:function(e){var t=e.getElementsByTagName("canvas");t.length&&t[0].remove();var n=function(t){var n=t.match(/var\((--[^)]+)\)/);if(n){var r=n[1];return getComputedStyle(e).getPropertyValue(r).trim()}return t},r=n(e.dataset.barColor),i=n(e.dataset.trackColor);new EasyPieChart(e,{size:e.dataset.size&&e.dataset.size>0?e.dataset.size:160,lineWidth:e.dataset.lineWidth,barColor:r,trackColor:i,lineCap:e.dataset.lineCap,scaleColor:e.dataset.scaleColor,scaleLength:e.dataset.scaleLength,rotate:0})},threshold:1})}});function bricksPieChart(){bricksPieChartFn.run()}var bricksPricingTablesFn=new BricksFunction({parentNode:document,selector:".brxe-pricing-tables",eachElement:function(e){var t=bricksQuerySelectorAll(e,".tab"),n=bricksQuerySelectorAll(e,".pricing-table");t.forEach((function(e){e.classList.contains("listening")||(e.classList.add("listening"),e.addEventListener("click",(function(){e.classList.contains("active")||(n.forEach((function(e){e.classList.toggle("active")})),t.forEach((function(e){e.classList.remove("active")})),e.classList.add("active"))})))}))}});function bricksPricingTables(){bricksPricingTablesFn.run()}var bricksPostReadingProgressBarFn=new BricksFunction({parentNode:document,selector:".brxe-post-reading-progress-bar",eachElement:function(e){var t=!!e.dataset.contentSelector&&document.querySelector(e.dataset.contentSelector);window.addEventListener("scroll",(function(){var n=window.scrollY,r=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(t){var i=t.getBoundingClientRect();r=i.height,n=i.top>0?0:-i.top}e.setAttribute("value",Math.ceil(n/r*100))}))}});function bricksPostReadingProgressBar(){bricksPostReadingProgressBarFn.run()}var bricksProgressBarFn=new BricksFunction({parentNode:document,selector:".brxe-progress-bar .bar span",eachElement:function(e){new BricksIntersect({element:e,callback:function(){e.dataset.width&&setTimeout((function(){e.style.width=e.dataset.width}),"slow")},threshold:1})}});function bricksProgressBar(){bricksProgressBarFn.run()}var bricksSplideFn=new BricksFunction({parentNode:document,selector:".brxe-slider-nested.splide",windowVariableCheck:["Splide"],forceReinit:function(e,t){return!bricksIsFrontend},eachElement:function(e){var t,n=bricksQuerySelectorAll(e,[".splide__list > .brxe-container",".splide__list > .brxe-block",".splide__list > .brxe-div"]);n.forEach((function(e){e.classList.add("splide__slide"),e.dataset.id=e.id}));var r=e.dataset.scriptId;window.bricksData.splideInstances.hasOwnProperty(r)&&window.bricksData.splideInstances[r].destroy();var i=new Splide(e);i.mount();var o={};try{o=JSON.parse(e.dataset.splide)}catch(e){console.warn("bricksSplide: Error parsing JSON of data-script-args",r)}if(null!==(t=o)&&void 0!==t&&t.autoHeight){var a=function(){try{var e,t=null==i||null===(e=i.Components)||void 0===e?void 0:e.Slides;if(!t)return void console.error("Slides component is undefined:",r);var o=t.getAt(i.index),a=null==o?void 0:o.slide;if(!a)return void console.error("Slide is undefined:",r);var s=a.parentElement;if(!s)return void console.error("Parent element is undefined:",r);var c=0;n.forEach((function(e){e.classList.contains("is-visible")&&e.offsetHeight>c&&(c=e.offsetHeight)})),c||(c=a.offsetHeight),s.style.height="".concat(c,"px")}catch(e){console.error("An error occurred while updating the height:",e,r)}};i?(a(),"function"==typeof i.on?(i.on("move resize",a),i.on("moved",a)):console.error("splideInstance.on is not a function")):console.error("splideInstance is undefined")}window.bricksData.splideInstances[r]=i,n.forEach((function(t,n){if(t.dataset.id){t.id=t.dataset.id;var r=e.querySelector(".splide__pagination");if(r){var i=r.querySelector("li:nth-child(".concat(n+1,") .splide__pagination__page"));i&&i.setAttribute("aria-controls",t.id)}}if(!t.classList.contains("bricks-lazy-hidden")){var o=t.getAttribute("style")||"";t.dataset.style&&(o+=t.dataset.style,t.setAttribute("style",o))}})),e.closest(".tab-pane")&&document.addEventListener("bricks/tabs/changed",(function(e){i.refresh()}))}});function bricksSplide(){bricksSplideFn.run()}var bricksSwiperFn=new BricksFunction({parentNode:document,selector:".bricks-swiper-container",windowVariableCheck:["Swiper"],forceReinit:function(e,t){return!bricksIsFrontend},eachElement:function(e){var t;try{t=JSON.parse(e.dataset.scriptArgs)}catch(n){console.warn("bricksSwiper: Error parsing JSON of data-script-args",e),t={}}var n=e.classList.contains("[class*=brxe-]")?e:e.closest("[class*=brxe-]");if(n){bricksQuerySelectorAll(e,[".splide__list > .brxe-container",".splide__list > .brxe-block",".splide__list > .brxe-div"]).forEach((function(e){return e.classList.add("swiper-slide")}));var r=n.dataset.scriptId,i=window.bricksData.swiperInstances.hasOwnProperty(r)?window.bricksData.swiperInstances[r]:void 0;i&&i.destroy(),t.observer=!1,t.observeParents=!0,t.resizeObserver=!0,t.slidesToShow=t.hasOwnProperty("slidesToShow")?t.slidesToShow:1,t.slidesPerGroup=t.hasOwnProperty("slidesPerGroup")?t.slidesPerGroup:1,t.speed=t.hasOwnProperty("speed")?parseInt(t.speed):300,t.effect=t.hasOwnProperty("effect")?t.effect:"slide",t.spaceBetween=t.hasOwnProperty("spaceBetween")?t.spaceBetween:0,t.initialSlide=t.hasOwnProperty("initialSlide")?t.initialSlide:0,t.keyboard={enabled:bricksIsFrontend,onlyInViewport:!0,pageUpDown:!1},t.watchOverflow=!0,t.hasOwnProperty("effect")&&"flip"===t.effect&&(t.flipEffect={slideShadows:!1}),t.hasOwnProperty("effect")&&"fade"===t.effect&&(t.fadeEffect={crossFade:!0}),t.navigation&&(t.navigation={prevEl:n.querySelector(".bricks-swiper-button-prev"),nextEl:n.querySelector(".bricks-swiper-button-next")}),t.pagination&&(t.pagination={el:n.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},1==t.dynamicBullets&&(delete t.dynamicBullets,t.pagination.dynamicBullets=!0)),i=new Swiper(e,t),window.bricksData.swiperInstances[r]=i}}});function bricksSwiper(){bricksSwiperFn.run()}var bricksVideoFn=new BricksFunction({parentNode:document,selector:".brxe-video",eachElement:function(e){if(bricksIsFrontend){var t=function(){var t=e.querySelector(".bricks-video-overlay"),n=e.querySelector(".bricks-video-overlay-icon");t&&t.remove(),n&&n.remove()};e.addEventListener("click",t),e.addEventListener("keydown",(function(n){"Enter"!==n.key&&" "!==n.key||t(),e.querySelector("video")||"Enter"!==n.key&&" "!==n.key||n.preventDefault()}))}var n=e.querySelector("video");if(n){if(window.hasOwnProperty("Plyr")){var r,i=e.dataset.scriptId,o=e.querySelector(".bricks-plyr"),a=(null===(r=window.bricksData)||void 0===r||null===(r=r.videoInstances)||void 0===r?void 0:r[i])||void 0;a&&a.destroy(),o&&(a=new Plyr(o)),window.bricksData.videoInstances[i]=a}n.hasAttribute("autoplay")&&n.setAttribute("playsinline",!0)}}});function bricksVideo(){bricksVideoFn.run()}function bricksFacebookSDK(){if(document.querySelector(".brxe-facebook-page")){var e=window.bricksData.hasOwnProperty("locale")?window.bricksData.locale:"en_US",t=window.bricksData.hasOwnProperty("facebookAppId")?window.bricksData.facebookAppId:null,n="https://connect.facebook.net/".concat(e,"/sdk.js"),r=new XMLHttpRequest;r.open("GET",n),r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=document.createElement("script");e.type="text/javascript",e.id="bricks-facebook-page-sdk",e.appendChild(document.createTextNode(r.responseText)),document.body.appendChild(e),FB.init({appId:t,version:"v3.3",xfbml:!0})}},r.send()}}var bricksPrettifyFn=new BricksFunction({parentNode:document,selector:".prettyprint.prettyprinted",run:function(){if(window.hasOwnProperty("PR")){PR.prettyPrint();var e=bricksQuerySelectorAll(document,".prettyprint.prettyprinted");!bricksIsFrontend&&e.length&&e.forEach((function(e){e.classList.remove("prettyprinted"),PR.prettyPrint()}))}}});function bricksPrettify(){bricksPrettifyFn.run()}function bricksSkipLinks(){var e=bricksQuerySelectorAll(document,".skip-link");e&&e.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=document.getElementById(e.href.split("#")[1]);n&&(n.setAttribute("tabindex","-1"),n.addEventListener("blur",(function(){n.removeAttribute("tabindex")}),{once:!0}),n.focus())}))}))}var bricksInteractionsFn=new BricksFunction({parentNode:document,selector:"[data-interactions]",frontEndOnly:!0,eachElement:function(e){var t,n=[];try{n=JSON.parse(e.dataset.interactions)}catch(e){return console.info("error:bricksInteractions",e),!1}var r=(null===(t=e.dataset)||void 0===t?void 0:t.interactionId)||!1;n&&r&&(n.forEach((function(t){var n,i=!1;if(null!=t&&t.trigger){if("scroll"===t.trigger){var o=0;if(null!=t&&t.scrollOffset)if((o=null==t?void 0:t.scrollOffset.replace("px","")).includes("%"))o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)/100*parseInt(o);else o.includes("vh")&&(o=window.innerHeight/100*parseInt(o));t.scrollOffset=o}else"mouseleaveWindow"===t.trigger&&(t.trigger="mouseleave",i=!0);if(e)switch(t.el=e,t.groupId=i?"document":r,null!==(n=window.bricksData)&&void 0!==n&&n.interactions||(window.bricksData.interactions=[]),window.bricksData.interactions.push(t),t.trigger){case"click":case"mouseover":case"mouseenter":case"mouseleave":case"focus":case"blur":(i?document.documentElement:e).addEventListener(t.trigger,bricksInteractionCallback,{once:null==t?void 0:t.runOnce});break;case"animationEnd":var a=(null==t?void 0:t.animationId)||!1;if(!a){var s=window.bricksData.interactions.filter((function(e){return e.groupId===r&&"startAnimation"===e.action&&e.id!==t.id}));s.length&&(a=s[s.length-1].id)}a&&a!==t.id&&document.addEventListener("bricks/animation/end/".concat(a),(function(n){bricksInteractionCallbackExecution(e,t)}),{once:null==t?void 0:t.runOnce});break;case"contentLoaded":var c=(null==t?void 0:t.delay)||0;c&&c.includes("ms")?c=parseInt(c):c&&c.includes("s")&&(c=1e3*parseFloat(c)),setTimeout((function(){bricksInteractionCallbackExecution(e,t)}),c);break;case"enterView":case"leaveView":new BricksIntersect({element:e,callback:function(e){return bricksInteractionCallbackExecution(e,t)},once:null==t?void 0:t.runOnce,trigger:null==t?void 0:t.trigger});break;case"showPopup":case"hidePopup":var l="showPopup"===t.trigger?"bricks/popup/open":"bricks/popup/close";document.addEventListener(l,(function(n){var r,i=(null===(r=n.detail)||void 0===r?void 0:r.popupElement)||!1;i&&i===e&&bricksUtils.maybeRunOnceInteractions(e,t)}));break;case"ajaxStart":case"ajaxEnd":var d="ajaxStart"===t.trigger?"bricks/ajax/start":"bricks/ajax/end",u=(null==t?void 0:t.ajaxQueryId)||!1;if(!u)return;document.addEventListener(d,(function(n){var r,i=(null===(r=n.detail)||void 0===r?void 0:r.queryId)||!1;i&&i===u&&bricksUtils.maybeRunOnceInteractions(e,t)}));break;case"formSubmit":case"formSuccess":case"formError":var p=null==t?void 0:t.formId;if(!p)return;var b="bricks/form/".concat(t.trigger.replace("form","").toLowerCase());document.addEventListener(b,(function(n){var r,i=null===(r=n.detail)||void 0===r?void 0:r.elementId;i&&i===(p=(p=p.replace("#","")).replace("brxe-",""))&&bricksUtils.maybeRunOnceInteractions(e,t)}));break;case"filterOptionEmpty":case"filterOptionNotEmpty":var v=(null==t?void 0:t.filterElementId)||!1;if(!v)return;v=(v=v.replace("#","")).replace("brxe-","");var f="bricks/filter/option/".concat(t.trigger.replace("filterOption","").toLowerCase());document.addEventListener(f,(function(n){var r,i=(null===(r=n.detail)||void 0===r?void 0:r.filterElementIds)||[];i.length&&i.includes(v)&&bricksUtils.maybeRunOnceInteractions(e,t)}))}}})),bricksUtils.hideOrShowLoadMoreButtons("all"))}});function bricksInteractions(){bricksInteractionsFn.run()}function bricksTrapFocus(e,t){if("Tab"===e.key){var n=bricksGetVisibleFocusables(t),r=n[0],i=n[n.length-1];e.shiftKey?document.activeElement===r&&(i.focus(),e.preventDefault()):document.activeElement===i&&(r.focus(),e.preventDefault())}}function bricksFocusOnFirstFocusableElement(e){var t=bricksGetFocusables(e)[0];t&&t.focus()}function bricksPopups(){var e=null;document.addEventListener("bricks/popup/open",(function(t){var n,r,i=(null===(n=t.detail)||void 0===n?void 0:n.popupElement)||!1;if(i&&bricksIsFrontend){e=document.activeElement,setTimeout((function(){var e,t,n;(null!==(e=i.dataset)&&void 0!==e&&e.popupDisableAutoFocus||bricksFocusOnFirstFocusableElement(i),null!==(t=i.dataset)&&void 0!==t&&t.popupScrollToTop)&&(null===(n=i.querySelector(".brx-popup-content"))||void 0===n||n.scrollTo(0,0))}),100);var o=function(e){return bricksTrapFocus(e,i)};document.addEventListener("keydown",o),document.addEventListener("bricks/popup/close",(function(){document.removeEventListener("keydown",o),e&&e.focus()}));var a=(null===(r=i.dataset)||void 0===r?void 0:r.popupCloseOn)||"backdrop-esc";if(a.includes("esc")){var s=function(e){return function(e,t){"Escape"===e.key&&bricksClosePopup(t)}(e,i)};document.addEventListener("keyup",s),document.addEventListener("bricks/popup/close",(function(){document.removeEventListener("keyup",s)}))}if(a.includes("backdrop")){var c=function(e){return function(e,t){(e.target.classList.contains("brx-popup-backdrop")||e.target.classList.contains("brx-popup"))&&bricksClosePopup(t)}(e,i)};document.addEventListener("click",c),document.addEventListener("bricks/popup/close",(function(){document.removeEventListener("click",c)}))}}}))}function bricksScrollInteractions(){var e,t=Array.isArray(null===(e=window.bricksData)||void 0===e?void 0:e.interactions)?window.bricksData.interactions:[],n=window.scrollY,r=[];t.forEach((function(e,t){"scroll"===(null==e?void 0:e.trigger)&&n>=e.scrollOffset&&(bricksInteractionCallbackExecution(e.el,e),null!=e&&e.runOnce&&r.push(e.id))})),r.forEach((function(e){window.bricksData.interactions=window.bricksData.interactions.filter((function(t){return t.id!==e}))}))}function bricksInteractionCallback(e){var t;if("click"===(null==e?void 0:e.type)){var n;if("A"===e.target.tagName&&"#"!==e.target.getAttribute("href")&&null!==(n=e.target.getAttribute("href"))&&void 0!==n&&n.startsWith("#"))return;e.preventDefault()}var r=(null==e||null===(t=e.currentTarget)||void 0===t||null===(t=t.dataset)||void 0===t?void 0:t.interactionId)||"document";window.bricksData.interactions.filter((function(e){return e.groupId===r})).forEach((function(t){(null==t?void 0:t.trigger)===e.type&&bricksInteractionCallbackExecution(t.el,t)}))}function bricksInteractionCallbackExecution(e,t){var n,r,i;switch((null==t?void 0:t.target)||"self"){case"custom":null!=t&&t.targetSelector&&(i=bricksQuerySelectorAll(document,t.targetSelector));break;case"popup":var o;if(null!=t&&t.templateId)null!==(o=e.dataset)&&void 0!==o&&o.interactionLoopId&&(i=bricksQuerySelectorAll(document,'.brx-popup[data-popup-id="'.concat(t.templateId,'"][data-popup-loop-id="').concat(e.dataset.interactionLoopId,'"]'))),i&&i.length||(i=bricksQuerySelectorAll(document,'.brx-popup[data-popup-id="'.concat(t.templateId,'"]')));break;case"offcanvas":null!=t&&t.offCanvasSelector&&(i=e);break;default:i=e}if(i)if(i=Array.isArray(i)?i:[i],bricksInteractionCheckConditions(t))switch(null==t?void 0:t.action){case"show":case"hide":i.forEach((function(n){if(null!=n&&n.classList.contains("brx-popup"))if("show"===t.action){var r,i={};null!=t&&t.popupContextId&&(i.popupContextId=t.popupContextId),null!=t&&t.popupContextType&&(i.popupContextType=t.popupContextType),null!==(r=e.dataset)&&void 0!==r&&r.interactionLoopId&&(i.loopId=e.dataset.interactionLoopId),bricksOpenPopup(n,0,i)}else"hide"===t.action&&bricksClosePopup(n);else"hide"===t.action?n.style.display="none":"none"===n.style.display?(n.style.display=null,"none"===window.getComputedStyle(n).display&&(n.style.display="block")):n.style.display="block"}));break;case"setAttribute":case"removeAttribute":case"toggleAttribute":var a=null==t?void 0:t.actionAttributeKey;a&&i.forEach((function(e){var n=(null==t?void 0:t.actionAttributeValue)||"";"class"===a?(n?n.split(" "):[]).forEach((function(n){"setAttribute"===t.action?e.classList.add(n):"removeAttribute"===t.action?e.classList.remove(n):e.classList.toggle(n)})):"setAttribute"===t.action?e.setAttribute(a,n):"removeAttribute"===t.action||e.hasAttribute(a)?e.removeAttribute(a):e.setAttribute(a,n)}));break;case"scrollTo":var s=i[0];if(!s||!s.scrollIntoView)return;var c=(null==t?void 0:t.scrollToOffset)||0,l=(null==t?void 0:t.scrollToDelay)||1;setTimeout((function(){"string"==typeof c&&(c=c.replace("px",""));var e=s.getBoundingClientRect().top;window.scrollBy(0,e-parseInt(c))}),parseInt(l));break;case"storageAdd":case"storageRemove":case"storageCount":var d=null==t?void 0:t.storageType,u=null==t?void 0:t.actionAttributeKey,p=t.hasOwnProperty("actionAttributeValue")?t.actionAttributeValue:0;if(d&&u)if("storageAdd"===t.action)bricksStorageSetItem(d,u,p);else if("storageRemove"===t.action)bricksStorageRemoveItem(d,u);else if("storageCount"===t.action){var b=bricksStorageGetItem(d,u);bricksStorageSetItem(d,u,(b=b?parseInt(b):0)+1)}break;case"startAnimation":var v=null==t?void 0:t.animationType;v&&i.forEach((function(n){var r,i=1e3,o=null===(r=n)||void 0===r?void 0:r.classList.contains("brx-popup");if(o&&(n=n.querySelector(".brx-popup-content")),null!=t&&t.animationDuration&&(n.style.animationDuration=t.animationDuration,t.animationDuration.includes("ms")?i=parseInt(t.animationDuration):t.animationDuration.includes("s")&&(i=1e3*parseFloat(t.animationDuration))),null!=t&&t.animationDelay&&(n.style.animationDelay=t.animationDelay,t.animationDelay.includes("ms")?i+=parseInt(t.animationDelay):t.animationDelay.includes("s")&&(i+=1e3*parseFloat(t.animationDelay))),o&&"showPopup"!==t.trigger&&"hidePopup"!==t.trigger){var a,s=n.parentNode,c={};null!==(a=e.dataset)&&void 0!==a&&a.interactionLoopId&&(c.loopId=e.dataset.interactionLoopId),v.includes("In")&&bricksOpenPopup(s,i,c)}n.classList.add("brx-animated"),n.setAttribute("data-animation",v),n.setAttribute("data-animation-id",t.id||""),bricksAnimationFn.run({elementsToAnimate:[n],removeAfterMs:i})}));break;case"loadMore":var f=null==t?void 0:t.loadMoreQuery,m=null===(n=window.bricksData.queryLoopInstances)||void 0===n?void 0:n[f];if(!m)return;var g=Array.from(null===(r=m.resultsContainer)||void 0===r?void 0:r.querySelectorAll(".brxe-".concat(f,":not(.brx-popup)"))).pop();g&&(e.classList.contains("is-loading")||(e.classList.add("is-loading"),g.dataset.queryElementId=f,bricksQueryLoadPage(g).then((function(t){e.classList.remove("is-loading"),bricksUtils.hideOrShowLoadMoreButtons(f)}))));break;case"javascript":if(null!=t&&t.jsFunction){var y,k=null!==(y=window[t.jsFunction])&&void 0!==y&&y;if(t.jsFunction.includes(".")){var h=t.jsFunction.split("."),w=window;h.forEach((function(e){w=w[e]})),"function"==typeof w&&(k=w)}if(k&&"function"==typeof k){var x={source:e,targets:i},E={};null!=t&&t.jsFunctionArgs&&Array.isArray(t.jsFunctionArgs)&&t.jsFunctionArgs.forEach((function(e,t){if(null!=e&&e.jsFunctionArg&&null!=e&&e.id){var n=e.id,r=e.jsFunctionArg;"%brx%"===e.jsFunctionArg&&(n=e.jsFunctionArg,r=x),E[n]=r}})),i.forEach((function(e){null!=E&&E["%brx%"]&&(E["%brx%"].target=e),Object.keys(E).length?k.apply(void 0,_toConsumableArray(Object.keys(E).map((function(e){return E[e]})))):k()}))}else console.error('Bricks interaction: Custom JavaScript function "'.concat(t.jsFunction,'" not found.'))}break;case"toggleOffCanvas":var L=(null==t?void 0:t.offCanvasSelector)||!1;if(!L)return;bricksUtils.toggleAction(e,{selector:L})}else if("startAnimation"===(null==t?void 0:t.action))i.forEach((function(e){e.removeAttribute("data-interaction-hidden-on-load")}))}function bricksOpenPopup(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(bricksIsFrontend&&(e&&(e.nodeType===Node.ELEMENT_NODE?t=e:e&&(t=document.querySelector('.brx-popup[data-popup-id="'.concat(e,'"]')))),t)){var i=t.dataset.popupId;bricksPopupCheckLimit(t)&&bricksPopupCheckBreakpoint(t)&&(t.classList.remove("hide"),t.dataset.popupBodyScroll||document.body.classList.add("no-scroll"),bricksSetVh(),bricksFetchPopupContent(t,r).then((function(e){if(""!==e){t.querySelector(".brx-popup-content").innerHTML=e;var r=new CustomEvent("bricks/ajax/popup/loaded",{detail:{popupId:i,popupElement:t}});document.dispatchEvent(r)}var o=new CustomEvent("bricks/popup/open",{detail:{popupId:i,popupElement:t}});document.dispatchEvent(o),setTimeout((function(){bricksCounter()}),n),bricksPopupCounter(t)})))}}function bricksFetchPopupContent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r,i){var o;if((null===(o=e.dataset)||void 0===o?void 0:o.popupAjax)||!1){e.querySelector(".brx-popup-content").innerHTML="";var a=e.dataset.popupId,s={postId:window.bricksData.postId,popupId:a,nonce:window.bricksData.nonce,popupContextId:!1,popupContextType:"post",isLooping:!1,popupLoopId:!1,queryElementId:!1};if(null!=t&&t.loopId&&(s.isLooping=!0),null!=t&&t.popupContextId&&(s.popupContextId=t.popupContextId,null!=t&&t.popupContextType&&(s.popupContextType=t.popupContextType)),null!=t&&t.loopId&&!s.popupContextId){var c=t.loopId.split(":");4===c.length&&6===c[0].length&&(s.queryElementId=c[0],s.popupLoopId=t.loopId)}var l=window.bricksData.restApiUrl.concat("load_popup_content");document.dispatchEvent(new CustomEvent("bricks/ajax/popup/start",{detail:{popupId:a,popupElement:e}}));var d=new XMLHttpRequest;d.open("POST",l,!0),d.setRequestHeader("Content-Type","application/json; charset=UTF-8"),d.setRequestHeader("X-WP-Nonce",window.bricksData.wpRestNonce),d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE){var o,s,c=d.status,l="";try{s=JSON.parse(d.response)}catch(e){console.error("Error parsing response:",e)}if(0===c||c>=200&&c<400){var u,p,b,v,f,m=(null===(u=s)||void 0===u?void 0:u.html)||!1,g=(null===(p=s)||void 0===p?void 0:p.styles)||!1,y=(null===(b=s)||void 0===b?void 0:b.popups)||!1,k=(null===(v=s)||void 0===v?void 0:v.error)||!1,h=(null===(f=s)||void 0===f?void 0:f.contentClasses)||!1;if(k&&console.error("error:bricksFetchPopupContent",k),m&&(l=m),g&&(l+=g),h){var w=e.querySelector(".brx-popup-content.brx-woo-quick-view");if(w){var x,E=["brx-popup-content","brxe-container","brx-woo-quick-view"];w.classList.forEach((function(e){E.includes(e)||w.classList.remove(e)})),(x=w.classList).add.apply(x,_toConsumableArray(h)),document.body.classList.contains("woocommerce")||w.classList.add("woocommerce")}}y&&Object.keys(y).length&&Object.entries(y).forEach((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];document.querySelector('.brx-popup[data-popup-id="'.concat(n,'"]'))||document.body.insertAdjacentHTML("beforeend",r)}))}else if("rest_cookie_invalid_nonce"===(null===(o=s)||void 0===o?void 0:o.code)&&!n)return void bricksRegenerateNonceAndRetryPopup(e,t).then(r).catch(i);r(l),document.dispatchEvent(new CustomEvent("bricks/ajax/popup/end",{detail:{popupId:a,popupElement:e}}))}},d.send(JSON.stringify(s))}else r("")}))}function bricksRegenerateNonceAndRetryPopup(e,t){return new Promise((function(n,r){var i=new XMLHttpRequest;i.open("POST",window.bricksData.ajaxUrl,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(i.status>=200&&i.status<400){var o;try{o=JSON.parse(i.responseText)}catch(e){return void r("Invalid response from server when regenerating nonce")}o.success&&o.data?(window.bricksData.nonce=o.data.bricks_nonce,window.bricksData.wpRestNonce=o.data.rest_nonce,bricksFetchPopupContent(e,t,!0).then(n).catch(r)):r("Failed to regenerate nonces: Invalid response structure")}else r("Failed to regenerate nonce")},i.send("action=bricks_regenerate_query_nonce")}))}function bricksClosePopup(e){var t;if(bricksIsFrontend&&(e&&(e.nodeType===Node.ELEMENT_NODE?t=e:e&&(t=document.querySelector('.brx-popup[data-popup-id="'.concat(e,'"]')))),t)){var n=t.dataset.popupId;t.classList.add("hide"),t.dataset.popupBodyScroll||document.querySelectorAll(".brx-popup:not(.hide):not([data-popup-body-scroll])").length||document.body.classList.remove("no-scroll");var r=new CustomEvent("bricks/popup/close",{detail:{popupId:n,popupElement:t}});document.dispatchEvent(r)}}function bricksPopupCheckLimit(e){var t,n,r=null==e||null===(t=e.dataset)||void 0===t?void 0:t.popupLimits,i=null==e||null===(n=e.dataset)||void 0===n?void 0:n.popupId;if(!r)return!0;try{r=JSON.parse(r)}catch(e){return console.info("error:bricksPopupCheckLimit",e),!0}var o=!1,a=Date.now();return Object.entries(r).forEach((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];if("timeStorageInHours"===n){var s=parseInt(bricksStorageGetItem("localStorage","brx_popup_".concat(i,"_lastShown")));a<s+36e5*r&&(o=!0)}else{var c=bricksStorageGetItem(n,"brx_popup_".concat(i,"_total"));c=c?parseInt(c):0,o=o||c>=r}})),!o&&r.timeStorageInHours&&bricksStorageSetItem("localStorage","brx_popup_".concat(i,"_lastShown"),a.toString()),!o}function bricksPopupCheckBreakpoint(e){var t;if(null==e||null===(t=e.classList)||void 0===t||!t.contains("brx-popup"))return!1;var n=parseInt(e.getAttribute("data-popup-show-at"));if(n&&window.innerWidth<n)return!1;var r=e.getAttribute("data-popup-show-on-widths"),i=r?r.split(","):[];if(i.length&&!i.some((function(e){var t=_slicedToArray(e.split("-").map((function(e){var t=Number(e);return isNaN(t)?(console.error("Invalid width value: ".concat(e)),0):t})),2),n=t[0],r=t[1];return window.innerWidth>=n&&window.innerWidth<=r})))return!1;return!0}function bricksPopupCounter(e){var t,n,r=null==e||null===(t=e.dataset)||void 0===t?void 0:t.popupLimits,i=null==e||null===(n=e.dataset)||void 0===n?void 0:n.popupId;if(r){try{r=JSON.parse(r)}catch(e){return console.info("error:bricksPopupCounter",e),!0}Object.entries(r).forEach((function(e){var t=_slicedToArray(e,2),n=t[0],r=(t[1],bricksStorageGetItem(n,"brx_popup_".concat(i,"_total")));r=r?parseInt(r):0,bricksStorageSetItem(n,"brx_popup_".concat(i,"_total"),r+1)}))}}function bricksInteractionCheckConditions(e){if(!Array.isArray(null==e?void 0:e.interactionConditions))return!0;var t=(null==e?void 0:e.interactionConditionsRelation)||"and",n="and"===t,r=function(e){return isNaN(e)?0:parseFloat(e)};return e.interactionConditions.forEach((function(e){var i=null==e?void 0:e.conditionType,o=(null==e?void 0:e.storageKey)||!1,a=!1;if(i&&o){var s=(null==e?void 0:e.storageCompare)||"exists",c=null==e?void 0:e.storageCompareValue,l=bricksStorageGetItem(i,o);switch(s){case"exists":a=null!==l;break;case"notExists":a=null===l;break;case"==":a=l==c;break;case"!=":a=l!=c;break;case">=":a=r(l)>=r(c);break;case"<=":a=r(l)<=r(c);break;case">":a=r(l)>r(c);break;case"<":a=r(l)<r(c)}}else a=!0;n="and"===t?n&&a:n||a})),n}function bricksStorageGetItem(e,t){if(t){var n;try{switch(e){case"windowStorage":n=window.hasOwnProperty(t)?window[t]:null;break;case"sessionStorage":n=sessionStorage.getItem(t);break;case"localStorage":n=localStorage.getItem(t)}}catch(e){console.info("error:bricksStorageGetItem",e)}return n}}function bricksStorageSetItem(e,t,n){if(t)try{switch(e){case"windowStorage":window[t]=n;break;case"sessionStorage":sessionStorage.setItem(t,n);break;case"localStorage":localStorage.setItem(t,n)}}catch(e){console.info("error:bricksStorageSetItem",e)}}function bricksStorageRemoveItem(e,t){if(t)try{switch(e){case"windowStorage":delete window[t];break;case"sessionStorage":sessionStorage.removeItem(t);break;case"localStorage":localStorage.removeItem(t)}}catch(e){console.info("error:bricksStorageRemoveItem",e)}}function bricksNavNested(){if(bricksIsFrontend){var e=new MutationObserver((function(e){e.forEach((function(e){if("attributes"===e.type&&"class"===e.attributeName){var t=e.target;if(t.classList.contains("brx-open")){bricksSetVh();var n=t.querySelector(".brx-nav-nested-items");n&&n.addEventListener("keydown",(function(e){return bricksTrapFocus(e,n)})),document.body.classList.add("no-scroll");var r=t.querySelector(".brx-nav-nested-items button.brxe-toggle");r?setTimeout((function(){r.classList.add("is-active"),r.setAttribute("aria-expanded",!0),r.focus()}),100):bricksFocusOnFirstFocusableElement(t)}else{document.body.classList.remove("no-scroll");var i=t.dataset.toggleScriptId,o=document.querySelector('button[data-script-id="'.concat(i,'"],[data-interaction-id="').concat(i,'"][data-brx-toggle-offcanvas]'));o&&(o.setAttribute("aria-expanded",!1),o.classList.remove("is-active"),o.focus())}}}))})),t=bricksQuerySelectorAll(document,".brxe-nav-nested");t.length&&(t.forEach((function(t){e.observe(t,{attributes:!0,attributeFilter:["class"]}),t.addEventListener("keydown",(function(e){var t=document.activeElement;bricksHandleMenuKeyNavigation(e,{isTopLevel:null!==t.closest(".brx-nav-nested-items > li, .brx-nav-nested-items > .brxe-dropdown"),isInDropdown:null!==t.closest(".brx-dropdown-content"),isInSubmenuToggle:null!==t.closest(".brx-submenu-toggle"),getNextFocusable:bricksGetNextMenuFocusableInSubmenuToggle,getPreviousFocusable:bricksGetPreviousMenuFocusableInSubmenuToggle,getLastFocusableInSubmenuToggle:bricksMenuGetLastFocusableInSubmenuToggle,focusNextElement:function(e){return bricksMenuFocusNextElement(e,".brx-nav-nested-items")},focusPreviousElement:function(e){return bricksMenuFocusPreviousElement(e,".brx-nav-nested-items")},focusFirstElement:bricksMenuFocusFirstElement,focusLastElement:bricksMenuFocusLastElement,closeSubmenu:function(e){return bricksSubmenuToggle(e,"remove")}})}))})),document.addEventListener("keyup",(function(e){"Escape"===e.key&&bricksNavNestedClose()})),document.addEventListener("click",(function(e){var t=e.target.closest(".brxe-nav-nested"),n=e.target.closest(".brxe-toggle");t||n||bricksNavNestedClose()})))}}function bricksNavNestedClose(){bricksQuerySelectorAll(document,".brxe-nav-nested.brx-open").forEach((function(e){e.classList.add("brx-closing"),setTimeout((function(){e.classList.remove("brx-closing"),e.classList.remove("brx-open")}),200)}))}var bricksNavMenuFn=new BricksFunction({parentNode:document,selector:".brxe-nav-menu",eachElement:function(e){e.addEventListener("keydown",(function(e){var t=document.activeElement;bricksHandleMenuKeyNavigation(e,{isTopLevel:null!==t.closest(".bricks-nav-menu > li"),isInDropdown:null!==t.closest(".sub-menu"),isInSubmenuToggle:null!==t.closest(".brx-submenu-toggle"),getNextFocusable:bricksGetNextMenuFocusableInSubmenuToggle,getPreviousFocusable:bricksGetPreviousMenuFocusableInSubmenuToggle,getLastFocusableInSubmenuToggle:bricksMenuGetLastFocusableInSubmenuToggle,focusNextElement:function(e){return bricksMenuFocusNextElement(e,".bricks-nav-menu")},focusPreviousElement:function(e){return bricksMenuFocusPreviousElement(e,".bricks-nav-menu")},focusFirstElement:bricksMenuFocusFirstElement,focusLastElement:bricksMenuFocusLastElement,closeSubmenu:function(e){e.setAttribute("aria-expanded","false"),e.closest(".menu-item-has-children").classList.remove("open")}})}))}});function bricksNavMenu(){bricksNavMenuFn.run()}function bricksHandleMenuKeyNavigation(e,t){var n=t.isTopLevel,r=t.isInDropdown,i=t.isInSubmenuToggle,o=t.getNextFocusable,a=t.getPreviousFocusable,s=t.getLastFocusableInSubmenuToggle,c=t.focusNextElement,l=t.focusPreviousElement,d=t.focusFirstElement,u=t.focusLastElement,p=(t.closeSubmenu,e.key),b=document.activeElement;["ArrowDown","ArrowRight","ArrowUp","ArrowLeft","Home","End"].includes(p)&&e.preventDefault();var v="rtl"===document.dir||"rtl"===document.documentElement.dir||null!==b.closest('[dir="rtl"]');switch(p){case"ArrowDown":if(n)if(i){var f=b.closest(".brx-submenu-toggle"),m=f.nextElementSibling,g=f.querySelector("button[aria-expanded]");if(m&&(m.classList.contains("brx-dropdown-content")||m.classList.contains("sub-menu"))&&g&&"true"===g.getAttribute("aria-expanded")){var y=m.querySelector("a, button");y&&y.focus()}else c(b)}else c(b);else r&&c(b);break;case v?"ArrowLeft":"ArrowRight":if(n)if(i){var k=o(b,v);k?k.focus():c(b.closest(".brxe-dropdown, .menu-item"))}else c(b);break;case"ArrowUp":if(n)l(b);else if(r){if(!l(b)){var h=b.closest(".brxe-dropdown").querySelector(".brx-submenu-toggle");if(h){var w=s(h,v);w&&w.focus()}}}break;case v?"ArrowRight":"ArrowLeft":if(n)if(i){var x=a(b,v);x?x.focus():l(b.closest(".brxe-dropdown, .menu-item"))}else l(b);else if(r){if(!l(b)){var E=b.closest(".brxe-dropdown").querySelector(".brx-submenu-toggle");if(E){var L=s(E,v);L&&L.focus()}}}break;case"Home":d(r?b.closest(".sub-menu, .brx-dropdown-content"):b.closest(".bricks-nav-menu, .brx-nav-nested-items"));break;case"End":u(r?b.closest(".sub-menu, .brx-dropdown-content"):b.closest(".bricks-nav-menu, .brx-nav-nested-items"))}}function bricksMenuFocusNextElement(e,t){if(!e)return null;var n=e.closest("ul")||e.closest(t);if(!n)return null;var r,i=Array.from(n.children).filter((function(e){return e.querySelector("a, button, .brx-submenu-toggle")})),o=i.findIndex((function(t){return t.contains(e)})),a=i[o+1];if(!a)return null;if(a.querySelector(".brx-submenu-toggle")){var s=a.querySelector(".brx-submenu-toggle"),c=s.querySelector("a"),l=s.querySelector("button");r=c||l}else r=a.querySelector("a")||a.querySelector("button");return r&&r.focus(),r}function bricksMenuFocusPreviousElement(e,t){if(!e)return null;var n=e.closest("ul")||e.closest(t);if(!n)return null;var r,i=Array.from(n.children).filter((function(e){return e.querySelector("a, button, .brx-submenu-toggle")})),o=i.findIndex((function(t){return t.contains(e)})),a=i[o-1];return a?((r=a.querySelector(".brx-submenu-toggle")?a.querySelector(".brx-submenu-toggle button")||a.querySelector(".brx-submenu-toggle a"):a.querySelector("a")||a.querySelector("button")||a.querySelector(".brx-submenu-toggle"))&&r.focus(),r):null}function bricksMenuFocusFirstElement(e){var t=bricksGetFocusables(e);if(t.length>0){var n=t[0];if(n.classList.contains("brx-submenu-toggle")){var r=n.querySelector("a, button");r&&r.focus()}else n.focus()}}function bricksMenuFocusLastElement(e){var t=bricksGetFocusables(e);if(t.length>0)for(var n=t.length-1;n>=0;n--){var r=t[n];if(bricksIsElementVisible(r)){if(!r.classList.contains("brx-submenu-toggle"))return void r.focus();var i=r.querySelector("button")||r.querySelector("a");if(i&&bricksIsElementVisible(i))return void i.focus()}}}function bricksGetNextMenuFocusableInSubmenuToggle(e,t){var n=e.closest(".brx-submenu-toggle"),r=Array.from(n.querySelectorAll("a, button"));return"a"===e.tagName.toLowerCase()?r[1]:null}function bricksGetPreviousMenuFocusableInSubmenuToggle(e,t){var n=e.closest(".brx-submenu-toggle"),r=Array.from(n.querySelectorAll("a, button"));return"button"===e.tagName.toLowerCase()&&r.find((function(e){return"a"===e.tagName.toLowerCase()}))||null}function bricksMenuGetLastFocusableInSubmenuToggle(e,t){var n=Array.from(e.querySelectorAll("a, button"));return t?n[0]:n[n.length-1]}function bricksIsElementVisible(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return t.width>0&&t.height>0&&"hidden"!==n.visibility&&"none"!==n.display}function bricksOffcanvas(){if(bricksIsFrontend){var e=bricksQuerySelectorAll(document,".brxe-offcanvas");if(e.length){var t=new MutationObserver((function(e){e.forEach((function(e){if("attributes"===e.type&&"class"===e.attributeName){var t=e.target,n=t.querySelector(".brx-offcanvas-inner"),r=n?r=1e3*parseFloat(window.getComputedStyle(n).getPropertyValue("transition-duration")):200;if(t.classList.contains("brx-open")){var i,o;if(bricksSetVh(),"offset"===t.dataset.effect&&n){var a=t.getAttribute("data-direction"),s=window.getComputedStyle(n).getPropertyValue("transition");document.body.style.margin="0",document.body.style.transition=s.replace("transform","margin");var c="rtl"===document.dir||"rtl"===document.documentElement.dir;"top"===a?document.body.style.marginTop="".concat(n.offsetHeight,"px"):"bottom"===a?document.body.style.marginTop="-".concat(n.offsetHeight,"px"):"left"===a?(c?document.body.style.marginRight="-".concat(n.offsetWidth,"px"):document.body.style.marginLeft="".concat(n.offsetWidth,"px"),document.body.style.overflowX="hidden"):"right"===a&&(c?document.body.style.marginRight="".concat(n.offsetWidth,"px"):document.body.style.marginLeft="-".concat(n.offsetWidth,"px"),document.body.style.overflowX="hidden")}if(t.addEventListener("keydown",(function(e){return bricksTrapFocus(e,t)})),t.dataset.noScroll&&document.body.classList.add("no-scroll"),"true"!==(null===(i=t.dataset)||void 0===i?void 0:i.noAutoFocus)&&bricksFocusOnFirstFocusableElement(t),"true"===(null===(o=t.dataset)||void 0===o?void 0:o.scrollToTop)){var l=t.querySelector(".brx-offcanvas-inner");l&&(l.scrollTop=0)}var d=t.querySelectorAll('.brx-offcanvas-inner > button.brxe-toggle, .brx-offcanvas-inner > [data-brx-toggle-offcanvas="true"]');d.length&&d.forEach((function(e){e.classList.add("is-active"),e.setAttribute("aria-expanded",!0)}))}else{t.style.visibility="visible";var u=t.dataset.toggleScriptId,p=document.querySelector('button[data-script-id="'.concat(u,'"], [data-interaction-id="').concat(u,'"][data-brx-toggle-offcanvas]'));p&&(p.setAttribute("aria-expanded",!1),p.classList.remove("is-active"),p.focus()),"offset"===t.dataset.effect&&(document.body.style.marginTop&&(document.body.style.margin="0"),setTimeout((function(){document.body.style.margin=null,document.body.style.overflow=null,document.body.style.transition=null}),r)),setTimeout((function(){t.style.visibility=null,t.dataset.noScroll&&(document.body.classList.remove("no-scroll"),bricksSubmenuPosition())}),r)}}}))}));e.forEach((function(e){t.observe(e,{attributes:!0,attributeFilter:["class"]});var n=e.querySelector(".brx-offcanvas-backdrop");n&&n.addEventListener("click",(function(e){bricksOffcanvasClose("backdrop")}))})),document.addEventListener("keyup",(function(e){"Escape"===e.key&&bricksOffcanvasClose("esc")}))}}}function bricksOffcanvasClose(e){bricksQuerySelectorAll(document,".brxe-offcanvas.brx-open").forEach((function(t){var n;(((null===(n=t.dataset)||void 0===n?void 0:n.closeOn)||"backdrop-esc").includes(e)||"force"===e)&&t.classList.remove("brx-open");var r=t.querySelectorAll('.brx-offcanvas-inner > button.brxe-toggle, .brx-offcanvas-inner > [data-brx-toggle-offcanvas="true"]');r.length&&r.forEach((function(e){e.classList.remove("is-active"),e.setAttribute("aria-expanded",!1)}))}))}function bricksToggleDisplay(){var e=bricksQuerySelectorAll(document,".brxe-toggle");e.length&&e.forEach((function(e){!e.closest(".brx-nav-nested-items")||e.parentNode.classList.contains("brx-nav-nested-items")||e.parentNode.classList.contains("brx-toggle-div")||("none"===window.getComputedStyle(e).display?(e.parentNode.style.display="none",bricksNavNestedClose()):e.parentNode.style.display=null)}))}function bricksNavMenuMobileToggleDisplay(){bricksQuerySelectorAll(document,".bricks-mobile-menu-toggle").forEach((function(e){e.parentNode.classList.contains("show-mobile-menu")&&("none"===window.getComputedStyle(e).display&&e.click())}))}var bricksToggleFn=new BricksFunction({parentNode:document,selector:".brxe-toggle",frontEndOnly:!0,eachElement:function(e){e.addEventListener("click",(function(t){t.preventDefault(),bricksUtils.toggleAction(e)}))}});function bricksToggle(){bricksIsFrontend&&(bricksToggleDisplay(),bricksToggleFn.run())}function bricksSubmenuToggle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toggle",n=!!e.parentNode.classList.contains("brx-submenu-toggle")&&e.parentNode.parentNode;if(n){if(e.closest(".brx-has-multilevel")){var r=n.parentNode.closest(".active");r&&!r.classList.contains("brx-has-megamenu")&&r.classList.remove("active"),setTimeout((function(){var e=n.querySelector("ul")||n.querySelector(".brx-dropdown-content");e&&bricksFocusOnFirstFocusableElement(e)}),100)}if("add"===t?(n.classList.add("open"),n.classList.add("active")):"remove"===t?(n.classList.remove("open"),n.classList.remove("active")):n.classList.toggle("open"),n.classList.contains("brxe-dropdown")){var i=n.querySelector(".brx-dropdown-content");i&&i.addEventListener("transitionend",(function(e){var t=n.getBoundingClientRect(),r=i.getBoundingClientRect();n.style.setProperty("--brx-dropdown-height-before",r.top-t.bottom+"px")}))}e.setAttribute("aria-expanded",n.classList.contains("open"))}}function bricksSubmenuListeners(){var e=bricksQuerySelectorAll(document,".bricks-nav-menu .menu-item-has-children"),t=bricksQuerySelectorAll(document,".brxe-dropdown");(e=e.concat(t)).forEach((function(e){e.closest("[data-static]")||e.closest(".brx-has-multilevel")||e.classList.contains("active")||(e.addEventListener("mouseenter",(function(t){if(!e.closest(".show-mobile-menu")&&!e.closest(".brxe-nav-nested.brx-open")&&"click"!==e.getAttribute("data-toggle")){var r=t.target.querySelector('[aria-expanded="false"]');r&&(r.closest(".brxe-dropdown.open")||r.closest(".bricks-menu-item.open")||n(r),bricksSubmenuToggle(r))}})),e.addEventListener("mouseleave",(function(t){if(!e.closest(".show-mobile-menu")&&!e.closest(".brxe-nav-nested.brx-open")&&"click"!==e.getAttribute("data-toggle")){var n=t.target.querySelector('[aria-expanded="true"]');if(n){var r=n.closest(".menu-item");if(r||(r=n.closest(".brxe-dropdown")),r&&r.classList.contains("active"))return;bricksSubmenuToggle(n)}}})))}));var n=function(e){var t=e.closest(".open"),n=e.closest(".brx-has-multilevel");if(t&&!n){var r=t.querySelector(".brx-submenu-toggle button[aria-expanded]");r&&(bricksSubmenuToggle(r,"remove"),r&&r.focus())}else{bricksQuerySelectorAll(document,'.brx-submenu-toggle > button[aria-expanded="true"]').forEach((function(e){e&&bricksSubmenuToggle(e,"remove")}))}};document.addEventListener("keyup",(function(e){"Escape"===e.key?n(e.target):"Tab"!==e.key||e.shiftKey||setTimeout((function(){bricksQuerySelectorAll(document,'[aria-expanded="true"]').forEach((function(e){var t=e.closest(".menu-item");t||(t=e.closest(".brxe-dropdown")),(t&&!t.contains(document.activeElement)||"BODY"===document.activeElement.tagName)&&bricksSubmenuToggle(e)}))}),0)})),document.addEventListener("click",(function(e){var t=e.target,n=null;if(t&&"A"!==t.nodeName&&(t=t.closest("a[href]")),t&&(n=t.getAttribute("href")),n&&n.includes("#"))if("#"===n||"/#"===n)e.preventDefault();else{var r=n.split("#")[1];if(e.target.closest(".brxe-offcanvas")&&bricksOffcanvasClose("force"),e.target.closest(".brxe-nav-nested.brx-open")){bricksNavNestedClose();var i=document.getElementById(r);i&&setTimeout((function(){i.scrollIntoView()}),200)}var o=document.getElementById(r);if(o){var a=o.classList.contains("woocommerce-Tabs-panel"),s=o.firstChild&&o.firstChild.classList&&o.firstChild.classList.contains("accordion-title-wrapper")?o.firstChild:null;if(s&&!a)return void s.click();var c=o.closest(".tab-title");c&&!a&&c.click();var l=e.target.closest(".brx-popup");l&&!l.contains(o)&&bricksClosePopup(l)}}var d=e.target.closest(".brx-submenu-toggle");if(d){var u="hover",p=d.closest("[data-toggle]");p&&(u=p.getAttribute("data-toggle")),d.closest(".brxe-nav-menu.show-mobile-menu")&&(u="click"),d.closest(".brxe-nav-nested.brx-open")&&(u="click");var b="hover"===u?e.target.closest("[aria-expanded]"):d.querySelector("button[aria-expanded]");if(0===e.detail||"click"===u||"both"===u||(b=null),b){bricksSubmenuToggle(b);var v=d.parentNode;v.classList.toggle("active"),setTimeout((function(){v.classList.contains("active")&&v.classList.add("open"),b.setAttribute("aria-expanded",v.classList.contains("open"))}),0)}}bricksQuerySelectorAll(document,'.brx-submenu-toggle > button[aria-expanded="true"]').forEach((function(t){var n=t.closest("li");n||(n=t.closest(".brxe-dropdown")),n&&!n.contains(e.target)&&(bricksSubmenuToggle(t),n.classList.remove("active"))}))}))}function bricksSubmenuPosition(){setTimeout((function(){var e=document.body.clientWidth;bricksQuerySelectorAll(document,".brx-submenu-toggle").forEach((function(t){var n=t.parentNode,r=n.querySelector(".brx-megamenu")||n.querySelector(".brx-dropdown-content")||n.querySelector("ul");if(r&&!n.hasAttribute("data-static"))if(r.querySelector('[aria-current="page"]')&&t.classList.add("aria-current"),n.classList.contains("brx-has-megamenu")){var i=n.dataset.megaMenu,o=n.dataset.megaMenuVertical,a=document.body;if(i){var s=document.querySelector(i);s&&(a=s)}var c=n.getBoundingClientRect(),l=a.getBoundingClientRect();if(r.style.left="-".concat(c.left-l.left,"px"),r.style.minWidth="".concat(l.width,"px"),o){var d=document.querySelector(o);if(d){var u=d.getBoundingClientRect();r.style.top="".concat(c.height+u.bottom-c.bottom,"px")}}}else{r.classList.contains("brx-multilevel-overflow-right")&&r.classList.remove("brx-multilevel-overflow-right"),r.classList.contains("brx-submenu-overflow-right")&&r.classList.remove("brx-submenu-overflow-right"),r.classList.contains("brx-sub-submenu-overflow-right")&&r.classList.remove("brx-sub-submenu-overflow-right");var p=r.getBoundingClientRect(),b=p.width,v=p.right,f=Math.ceil(p.left);if(b>e)r.style.left="-".concat(f,"px"),r.style.minWidth="".concat(e,"px");else if(v>e){var m=r.closest(".brx-has-multilevel"),g=!n.parentNode.closest(".menu-item")&&!n.parentNode.closest(".brxe-dropdown");m?r.classList.add("brx-multilevel-overflow-right"):g?r.classList.add("brx-submenu-overflow-right"):r.classList.add("brx-sub-submenu-overflow-right")}else f<0&&(r.style.left="100%",r.style.right="auto")}}))}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}function bricksMultilevelMenu(){bricksQuerySelectorAll(document,".brxe-nav-nested.multilevel").forEach((function(e){var t=e.getAttribute("data-back-text");e.querySelectorAll(".brxe-dropdown").forEach((function(e){e.classList.add("brx-has-multilevel"),e.setAttribute("data-toggle","click"),e.setAttribute("data-back-text",t)}))})),bricksQuerySelectorAll(document,".brx-has-multilevel").forEach((function(e){var t=e.getAttribute("data-back-text")||"Back";bricksQuerySelectorAll(e,"ul").forEach((function(e,n){if(0!==n){var r=document.createElement("a");r.classList.add("brx-multilevel-back"),r.setAttribute("href","#"),r.innerText=t;var i=document.createElement("li");i.classList.add("menu-item"),i.appendChild(r),e.insertBefore(i,e.firstChild),r.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest(".active");if(t){t.classList.remove("open"),t.classList.remove("active");var n=t.querySelector(".brx-submenu-toggle > button");n&&n.setAttribute("aria-expanded",!1);var r=t.parentNode.closest(".open");if(r){r.classList.add("active");var i=r.querySelector("ul");i&&bricksFocusOnFirstFocusableElement(i)}}}))}}))}))}function bricksNavMenuMobile(){var e=bricksQuerySelectorAll(document,".bricks-mobile-menu-toggle");if(e.length){var t=new MutationObserver((function(e){bricksSetVh(),e.forEach((function(e){e.target.classList.contains("show-mobile-menu")?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}))}));e.forEach((function(e){var n=e.closest(".brxe-nav-menu");t.observe(n,{attributes:!0,attributeFilter:["class"]})}));var n=null;document.addEventListener("click",(function(e){var t=e.target.closest(".bricks-mobile-menu-toggle");if(t){var r=t.closest(".brxe-nav-menu");r.classList.toggle("show-mobile-menu");var i=r.classList.contains("show-mobile-menu"),o=i?window.bricksData.i18n.closeMobileMenu:window.bricksData.i18n.openMobileMenu;t.setAttribute("aria-expanded",i),t.setAttribute("aria-label",o),i?(n=document.activeElement,setTimeout((function(){var e=r.querySelector(".bricks-mobile-menu-wrapper");bricksFocusOnFirstFocusableElement(e),e.addEventListener("keydown",(function(t){return bricksTrapFocus(t,e)}))}),100)):n&&n.focus()}})),document.addEventListener("click",(function(e){var t=e.target.closest(".brxe-nav-menu");if(t){var n=t.querySelector(".bricks-mobile-menu-toggle");if(e.target.classList.contains("bricks-mobile-menu-overlay"))t.classList.remove("show-mobile-menu"),t.querySelector(".bricks-mobile-menu-toggle").setAttribute("aria-expanded",!1),n.setAttribute("aria-expanded",!1),n.setAttribute("aria-label",window.bricksData.i18n.openMobileMenu);else if(e.target.closest(".bricks-mobile-menu-wrapper")){var r="A"===e.target.tagName?e.target.getAttribute("href"):"";r.length>1&&r.includes("#")&&(t.classList.remove("show-mobile-menu"),n.setAttribute("aria-expanded",!1),n.setAttribute("aria-label",window.bricksData.i18n.openMobileMenu))}}})),document.addEventListener("keyup",(function(e){if("Escape"===e.key){var t=document.querySelector(".brxe-nav-menu.show-mobile-menu");if(t){t.classList.remove("show-mobile-menu");var n=t.querySelector(".bricks-mobile-menu-toggle");n&&(n.setAttribute("aria-expanded",!1),n.setAttribute("aria-label",window.bricksData.i18n.openMobileMenu),setTimeout((function(){n.focus()}),10))}}}))}}var bricksBackToTopFn=new BricksFunction({parentNode:document,selector:".brxe-back-to-top",eachElement:function(e){e.addEventListener("click",(function(t){t.preventDefault(),window.scrollTo({top:0,behavior:e.hasAttribute("data-smooth-scroll")?"smooth":"auto"})}));var t=e.dataset.visibleAfter||0,n=e.classList.contains("up");if(t||n){var r=0;window.addEventListener("scroll",(function(){var i=document.documentElement.scrollTop,o=!0;n&&(o=!(i>r),r=i),(o=!!(window.scrollY>t&&o))?e.classList.add("visible"):e.classList.remove("visible")}))}}});function bricksBackToTop(){bricksBackToTopFn.run()}function bricksGetFocusables(e){var t=e.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])');return Array.prototype.filter.call(t,(function(e){return!e.hasAttribute("inert")&&!e.closest("[inert]")&&"none"!==window.getComputedStyle(e).display}))}function bricksGetVisibleFocusables(e){return bricksGetFocusables(e).filter((function(e){return e.offsetWidth>0||e.offsetHeight>0}))}var bricksIsFrontend,bricksPauseMediaFn=new BricksFunction({parentNode:document,selector:'video, audio, iframe[src*="youtube"], iframe[src*="vimeo"]',subscribeEvents:["bricks/popup/close"],forceReinit:!0,eachElement:function(e){if("VIDEO"!==e.tagName&&"AUDIO"!==e.tagName||!e.pause||"function"!=typeof e.pause){if("IFRAME"===e.tagName){var t=e.getAttribute("src"),n=t.includes("youtube"),r=n?{event:"command",func:"pauseVideo",args:""}:{method:"pause"};if(t.includes("vimeo")||n)return void e.contentWindow.postMessage(JSON.stringify(r),"*")}}else e.pause()},listenerHandler:function(e){var t;if(null!=e&&e.type&&"bricks/popup/close"===e.type){var n=null==e||null===(t=e.detail)||void 0===t?void 0:t.popupElement;n&&bricksPauseMediaFn.run({parentNode:n})}}}),bricksAnchorLinksFn=new BricksFunction({parentNode:document,selector:'a[data-brx-anchor][href*="#"]',frontEndOnly:!0,eachElement:function(e){var t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.closest(".menu-item")||!1;t?(e.setAttribute("aria-current","page"),n&&e.closest(".menu-item").classList.add("current-menu-item")):(e.removeAttribute("aria-current"),n&&e.closest(".menu-item").classList.remove("current-menu-item"))},n=window.location.hash||!1;if(n&&n.length>1){var r=e.getAttribute("href").split("#")[1]||!1;r&&r===n.substring(1)&&t(e)}e.addEventListener("click",(function(n){document.querySelectorAll("a[data-brx-anchor]").forEach((function(e){t(e,!1)})),t(e)}))}});function bricksAnchorLinks(){bricksAnchorLinksFn.run()}function bricksGetQueryResult(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r,i){if(e){var o=window.bricksData.queryLoopInstances[e]||!1;if(o)if(null==o||!o.isLoading||n){var a=window.bricksData.restApiUrl.concat("query_result"),s=window.bricksUtils.getFiltersForQuery(e,"filterId"),c=window.bricksUtils.getSelectedFiltersForQuery(e),l="[]"===(null==o?void 0:o.originalQueryVars)?null==o?void 0:o.queryVars:null==o?void 0:o.originalQueryVars,d={postId:window.bricksData.postId,queryElementId:e,originalQueryVars:l,pageFilters:window.bricksData.pageFilters||!1,filters:s,selectedFilters:c,nonce:window.bricksData.nonce,baseUrl:window.bricksData.baseUrl,lang:window.bricksData.language||!1};"wpml"!==window.bricksData.multilangPlugin||!window.location.search.includes("lang=")&&3==window.bricksData.wpmlUrlFormat||(a=a.concat("?lang="+window.bricksData.language)),window.bricksData.queryLoopInstances[e].isLoading=1,n||document.dispatchEvent(new CustomEvent("bricks/ajax/start",{detail:{queryId:e,isPopState:t}}));var u=new XMLHttpRequest;u.open("POST",a,!0),u.setRequestHeader("Content-Type","application/json; charset=UTF-8"),u.setRequestHeader("X-WP-Nonce",window.bricksData.wpRestNonce),u.onreadystatechange=function(){if(u.readyState===XMLHttpRequest.DONE){var t,o,a=u.status;try{o=JSON.parse(u.response)}catch(e){return void i("Invalid response from server")}if(0===a||a>=200&&a<400){var s;window.bricksData.queryLoopInstances[e].isLoading=0;var c=(null===(s=o)||void 0===s?void 0:s.error)||!1;c?(console.error("error: bricksGetQueryResult",c),i(c)):r(o),document.dispatchEvent(new CustomEvent("bricks/ajax/end",{detail:{queryId:e}})),document.dispatchEvent(new CustomEvent("bricks/ajax/query_result/completed",{detail:{queryId:e}}))}else"rest_cookie_invalid_nonce"===(null===(t=o)||void 0===t?void 0:t.code)?n?i("Nonce verification failed after refresh"):bricksRegenerateNonceAndRetryQuery(e).then(r).catch(i):i("Request failed with status ".concat(a))}},u.send(JSON.stringify(d))}else i("Query result is already loading");else i("Query instance not found")}else i("No queryId provided")}))}function bricksRegenerateNonceAndRetryQuery(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("POST",window.bricksData.ajaxUrl,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(r.status>=200&&r.status<400){var i;try{i=JSON.parse(r.responseText)}catch(e){return void n("Invalid response from server when regenerating nonce")}if(i.success&&i.data){window.bricksData.nonce=i.data.bricks_nonce,window.bricksData.wpRestNonce=i.data.rest_nonce;bricksGetQueryResult(e,!1,!0).then(t).catch(n)}else n("Failed to regenerate nonces: Invalid response structure")}else n("Failed to regenerate nonce")},r.send("action=bricks_regenerate_query_nonce")}))}function bricksDisplayQueryResult(e,t){var n,r=(null==t?void 0:t.html)||!1,i=(null==t?void 0:t.styles)||!1,o=(null==t?void 0:t.popups)||!1,a=(null==t?void 0:t.updated_query)||!1,s=(null==t?void 0:t.updated_filters)||!1,c=window.bricksData.queryLoopInstances[e]||!1,l=(null==c?void 0:c.resultsContainer)||!1;if(c&&l){var d=l.querySelector(".bricks-gutter-sizer"),u=l.querySelector(".bricks-isotope-sizer"),p=l.querySelectorAll(".brxe-".concat(e,", .bricks-posts-nothing-found")),b=document.createNodeIterator(l,NodeFilter.SHOW_COMMENT,{acceptNode:function(t){return t.nodeValue==="brx-loop-start-".concat(e)}}).nextNode(),v=p.length>0||b;if(v&&l.querySelectorAll(".brxe-".concat(e,", .bricks-posts-nothing-found")).forEach((function(e){return e.remove()})),r){if(v){if(b){var f=r.match(/<\s*([a-z0-9]+)([^>]+)?>/i),m=null;(m=!f||"td"!==f[1]&&"tr"!==f[1]?document.createElement("div"):document.createElement("tbody")).innerHTML=r;var g=Array.from(m.childNodes);g.reverse(),g.forEach((function(e){var t,n;b.nextSibling?null===(t=b.parentNode)||void 0===t||t.insertBefore(e,b.nextSibling):null===(n=b.parentNode)||void 0===n||n.appendChild(e)})),m.remove()}}else l.insertAdjacentHTML("beforeend",r);document.dispatchEvent(new CustomEvent("bricks/ajax/nodes_added",{detail:{queryId:e}}))}if(d&&l.appendChild(d),u&&l.appendChild(u),document.querySelectorAll('.brx-popup[data-popup-loop="'.concat(e,'"]')).forEach((function(e){return e.remove()})),o&&document.body.insertAdjacentHTML("beforeend",o),i){var y=document.querySelector("#brx-query-styles-".concat(e));y||((y=document.createElement("style")).id="brx-query-styles-".concat(e),document.body.appendChild(y)),y.innerHTML=i}if(void 0!==(null==a?void 0:a.count))document.querySelectorAll('span[data-brx-qr-count="'.concat(e,'"]')).forEach((function(e){e.innerHTML=a.count}));if(void 0!==(null==a||null===(n=a.query_vars)||void 0===n?void 0:n.paged)&&(window.bricksData.queryLoopInstances[e].page=parseInt(a.query_vars.paged)),void 0!==(null==a?void 0:a.max_num_pages)&&(window.bricksData.queryLoopInstances[e].maxPages=parseInt(a.max_num_pages)),s)for(var k in s){var h=s[k],w=window.bricksData.filterInstances[k]||!1;if(w&&"search"!==w.filterType){var x=document.createElement("div");x.innerHTML=h;var E=x.childNodes[0];w.filterElement.replaceWith(E),w.filterElement=E,x.remove()}}bricksUtils.hideOrShowLoadMoreButtons(e),document.dispatchEvent(new CustomEvent("bricks/ajax/query_result/displayed",{detail:{queryId:e}})),c.infiniteScroll&&setTimeout((function(){var t,n=Array.from(null===(t=c.resultsContainer)||void 0===t?void 0:t.querySelectorAll(".brxe-".concat(e,":not(.brx-popup)"))).pop();n&&(n.dataset.queryElementId=e,BricksIsInViewport(n)?bricksQueryLoadPage(n):new BricksIntersect({element:n,callback:function(e){return bricksQueryLoadPage(e)},once:!0,rootMargin:c.observerMargin}))}),250)}}function bricksSetVh(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--bricks-vh","".concat(e,"px"))}function bricksRunAllFunctions(){window.bricksFunctions&&window.bricksFunctions.forEach((function(e){e.run&&"function"==typeof e.run&&e.run()}))}var bricksTimeouts={};document.addEventListener("DOMContentLoaded",(function(e){bricksIsFrontend=document.body.classList.contains("bricks-is-frontend"),bricksNavMenu(),bricksMultilevelMenu(),bricksNavMenuMobile(),bricksStickyHeader(),bricksOnePageNavigation(),bricksSkipLinks(),bricksFacebookSDK(),bricksSearchToggle(),bricksPopups(),bricksSwiper(),bricksSplide(),bricksPhotoswipe(),bricksPrettify(),bricksAccordion(),bricksAnimatedTyping(),bricksAudio(),bricksCountdown(),bricksCounter(),bricksTableOfContents(),bricksPricingTables(),bricksVideo(),bricksLazyLoad(),bricksAnimation(),bricksPieChart(),bricksPostReadingProgressBar(),bricksProgressBar(),bricksForm(),bricksInitQueryLoopInstances(),bricksQueryPagination(),bricksInteractions(),bricksAlertDismiss(),bricksTabs(),bricksVideoOverlayClickDetector(),bricksBackgroundVideoInit(),bricksPostReadingTime(),bricksBackToTop(),bricksNavNested(),bricksOffcanvas(),bricksToggle(),bricksSubmenuListeners(),bricksSubmenuPosition(250),bricksAjaxLoader(),bricksAnchorLinks(),bricksIsotope(),bricksIsotopeListeners(),window.addEventListener("resize",(function(){Object.keys(bricksTimeouts).forEach((function(e){clearTimeout(bricksTimeouts[e])})),bricksIsFrontend?bricksTimeouts.bricksVh=setTimeout(bricksSetVh,250):(bricksTimeouts.bricksSwiper=setTimeout(bricksSwiper,250),bricksTimeouts.bricksSplide=setTimeout(bricksSplide,250)),bricksTimeouts.bricksSubmenuPosition=setTimeout(bricksSubmenuPosition,250),bricksTimeouts.bricksToggleDisplay=setTimeout(bricksToggleDisplay,100),bricksTimeouts.bricksNavMenuMobileToggleDisplay=setTimeout(bricksNavMenuMobileToggleDisplay,100)})),setTimeout((function(){var e;(Array.isArray(null===(e=window.bricksData)||void 0===e?void 0:e.interactions)?window.bricksData.interactions:[]).find((function(e){return"scroll"===(null==e?void 0:e.trigger)}))&&document.addEventListener("scroll",bricksScrollInteractions)}),100)}));
